import{_ as d}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,c,b as r,w as a,a as n,o as g,d as t,e}from"./app-BvezIqC2.js";const p={},m=n('<h2 id="背景" tabindex="-1"><a class="header-anchor" href="#背景"><span>背景</span></a></h2><p>数字图像处理是一个不断发展的技术领域，随着技术的不断进步，越来越多的图像处理任务需要被完成。在这个领域中，批处理是一种常见的技术，它可以大大提高处理效率，减少人工操作的繁琐性。</p><p>然而，现有的图像处理工具往往需要用户手动执行每个批处理操作，这不仅浪费时间和精力，还容易出错。如果需要处理大量的图像，用户需要手动选择每个图像并执行对应处理操作，这是一项非常繁琐的任务。如果用户在处理时犯上错误，可能会导致整个处理过程失败，需要重新开始。</p><h2 id="介绍" tabindex="-1"><a class="header-anchor" href="#介绍"><span>介绍</span></a></h2><p><img src="https://img.shields.io/badge/@yangzw/bruce--img-多功能无限制的图像处理工具-66f.svg" alt="bruce-img" loading="lazy"></p><p><code>@yangzw/bruce-img</code>是一个多功能无限制的图像处理工具，为图像提供压缩、分组、标记和变换的批处理功能。</p><p>它的主要作用是采用高效的图像处理算法，可以快速完成图像批处理操作，提高工作效率。通过多种图像处理技术和批处理技术的结合，例如图像压缩、分组、标记和变换，可以快速完成各种图像批处理操作。用户使用它对大量图像进行压缩，以便减小图像的存储空间，或对这些图像进行分组、标记或变换，以便后续的处理和分析。</p><p><img src="https://img.shields.io/badge/author-JowayYoung-f66.svg" alt="author" loading="lazy"><img src="https://img.shields.io/badge/version-1.3.0-f66.svg" alt="version" loading="lazy"><img src="https://img.shields.io/badge/node-&gt;%3D18.18.0-3c9.svg" alt="node" loading="lazy"><img src="https://img.shields.io/badge/npm-&gt;%3D9.8.1-3c9.svg" alt="npm" loading="lazy"><img src="https://img.shields.io/badge/test-passing-f90.svg" alt="test" loading="lazy"><img src="https://img.shields.io/badge/build-passing-f90.svg" alt="build" loading="lazy"><img src="https://img.shields.io/badge/coverage-mostly-09f.svg" alt="coverage" loading="lazy"><img src="https://img.shields.io/badge/license-MIT-09f.svg" alt="license" loading="lazy"></p><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><p>使用<code>npm/yarn/pnpm</code>安装<code>@yangzw/bruce-img</code>。</p>',10),h=e("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"npm"),t(" i "),e("span",{class:"token parameter variable"},"-g"),t(` @yangzw/bruce-img
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),b=e("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"yarn"),t(),e("span",{class:"token function"},"add"),t(` global @yangzw/bruce-img
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),u=e("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"pnpm"),t(" i "),e("span",{class:"token parameter variable"},"-g"),t(` @yangzw/bruce-img
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),y=n('<blockquote><p>安装失败</p></blockquote><p>因为<code>@yangzw/bruce-img</code>的某些功能依赖<code>sharp</code>，所以在安装时可能会出现失败或报错的情况，请通过这些步骤解围，以<code>npm</code>为例。</p><ul><li>切换<code>Npm镜像</code>为淘宝镜像：<code>npm config set registry https://registry.npmmirror.com/</code></li><li>切换<code>Node镜像</code>为淘宝镜像：<code>npm config set disturl https://npm.taobao.org/mirrors/node/</code></li><li>切换<code>Sharp镜像</code>为淘宝镜像 <ul><li><code>npm config set sharp_binary_host https://npm.taobao.org/mirrors/sharp/</code></li><li><code>npm config set sharp_dist_base_url https://npm.taobao.org/mirrors/sharp-libvips/</code></li><li><code>npm config set sharp_libvips_binary_host https://npm.taobao.org/mirrors/sharp-libvips/</code></li></ul></li><li>强制清理缓存：<code>npm cache clean -f</code>(曾经安装失败才执行)</li><li>重新安装：<code>npm i -g @yangzw/bruce-img</code></li></ul><p>前往<a href="https://github.com/lovell/sharp-libvips/releases" target="_blank" rel="noopener noreferrer">sharp-libvips</a>手动下载压缩包，将它放置到<code>npm config get cache</code>获取目录的<code>_libvips文件夹</code>中。</p><ul><li><strong>Windows</strong>选择<code>win32-x64.tar.br</code>下载</li><li><strong>MacOS</strong>选择<code>darwin-x64.tar.br</code>下载</li><li><strong>Linux</strong>选择<code>linux-x64.tar.br</code>下载</li></ul><hr><p>如果想了解<code>某些模块因为Npm镜像问题而安装不上</code>的解围思路，可以查看笔者这篇文章<a href="https://juejin.im/post/5edf60d4f265da76b559b6ac" target="_blank" rel="noopener noreferrer">《聊聊NPM镜像那些险象环生的坑》</a>，相信对你会有更大的帮助。</p><h2 id="使用" tabindex="-1"><a class="header-anchor" href="#使用"><span>使用</span></a></h2><table><thead><tr><th style="text-align:center;">功能</th><th style="text-align:center;">命令</th><th style="text-align:center;">缩写</th><th>处理文件类型</th></tr></thead><tbody><tr><td style="text-align:center;">压缩图像</td><td style="text-align:center;"><strong>bruce-img compress</strong></td><td style="text-align:center;"><code>bruce-img c</code></td><td><code>gif,jpg,png,svg,webp</code></td></tr><tr><td style="text-align:center;">分组图像</td><td style="text-align:center;"><strong>bruce-img group</strong></td><td style="text-align:center;"><code>bruce-img g</code></td><td><code>gif,jpg,png,svg,webp</code></td></tr><tr><td style="text-align:center;">标记图像</td><td style="text-align:center;"><strong>bruce-img mark</strong></td><td style="text-align:center;"><code>bruce-img m</code></td><td><code>jpg,png,webp</code>，<code>webp</code>不能是动图</td></tr><tr><td style="text-align:center;">变换图像</td><td style="text-align:center;"><strong>bruce-img transform</strong></td><td style="text-align:center;"><code>bruce-img t</code></td><td><code>jpg,png,webp</code>，<code>webp</code>不能是动图</td></tr></tbody></table><ul><li>无法处理<code>jpeg文件</code>，请确保<code>JPG格式</code>为<code>.jpg</code>后缀的文件</li><li>可以遍历根目录所有多层文件夹中符合条件的图像文件</li><li>执行<code>cd my-image</code>进入待处理图像的根目录，再根据需求执行上述命令</li></ul><table><thead><tr><th style="text-align:center;">功能</th><th style="text-align:center;">命令</th><th style="text-align:center;">缩写</th></tr></thead><tbody><tr><td style="text-align:center;">帮助信息</td><td style="text-align:center;"><strong>bruce-img --help</strong></td><td style="text-align:center;"><code>bruce-img -h</code></td></tr><tr><td style="text-align:center;">版本信息</td><td style="text-align:center;"><strong>bruce-img --version</strong></td><td style="text-align:center;"><code>bruce-img -v</code></td></tr><tr><td style="text-align:center;">命令帮助信息</td><td style="text-align:center;"><strong>bruce-img {cmd} --help</strong></td><td style="text-align:center;"><code>bruce-img {cmd} -h</code></td></tr></tbody></table><ul><li>只有<code>group/transform</code>才能使用<code>命令帮助信息</code>，例如<code>bruce-img group --help</code>或<code>bruce-img g -h</code></li></ul>',12);function v(x,f){const l=o("CodeTabs");return g(),c("div",null,[m,r(l,{id:"30",data:[{id:"npm"},{id:"yarn"},{id:"pnpm"}],"tab-id":"shell"},{title0:a(({value:i,isActive:s})=>[t("npm")]),title1:a(({value:i,isActive:s})=>[t("yarn")]),title2:a(({value:i,isActive:s})=>[t("pnpm")]),tab0:a(({value:i,isActive:s})=>[h]),tab1:a(({value:i,isActive:s})=>[b]),tab2:a(({value:i,isActive:s})=>[u]),_:1}),y])}const z=d(p,[["render",v],["__file","index.html.vue"]]),k=JSON.parse('{"path":"/img/","title":"指南","lang":"zh-CN","frontmatter":{"title":"指南","icon":"lightbulb","order":1},"headers":[{"level":2,"title":"背景","slug":"背景","link":"#背景","children":[]},{"level":2,"title":"介绍","slug":"介绍","link":"#介绍","children":[]},{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"使用","slug":"使用","link":"#使用","children":[]}],"git":{"createdTime":1715929436000,"updatedTime":1715929436000,"contributors":[{"name":"JowayYoung","email":"young.joway@aliyun.com","commits":1}]},"readingTime":{"minutes":3.16,"words":949},"filePathRelative":"img/index.md","localizedDate":"2024年5月17日"}');export{z as comp,k as data};
