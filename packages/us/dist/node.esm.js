import t,{existsSync as n,statSync as e,readdirSync as r,readFileSync as i}from"fs";import o,{join as c,extname as s}from"path";import{cwd as u}from"process";import a from"constants";import f from"stream";import l from"util";import d from"assert";import{networkInterfaces as h,type as y,release as p}from"os";import{execSync as m}from"child_process";function v(t,n){return void 0===t&&(t=[]),void 0===n&&(n=1),t.length?t.reduce((function(t,e){return t[t.length-1].length===n?t.push([e]):t[t.length-1].push(e),t}),[[]]):[]}function S(t,n){return void 0===t&&(t=[]),void 0===n&&(n=""),n?t.reduce((function(t,e){return!t[e[n]]&&(t[e[n]]=[]),t[e[n]].push(e),t}),{}):{}}function w(t){return void 0===t&&(t=[]),t.reduce((function(t,n){return t[n]=(t[n]||0)+1,t}),{})}function g(t,n){return void 0===t&&(t=[]),void 0===n&&(n=[]),n.reduce((function(n,e){return t.some((function(t){return t.includes(e)}))&&n.push(e),n}),[])}function b(t,n){return void 0===t&&(t=[]),t.reduce((function(t,e,r){return e===n&&t.push(r),t}),[])}function k(){return"undefined"==typeof window?"node":"web"}function $(){return"web"===k()}function E(){return"node"===k()}function D(t){return Object.prototype.toString.call(t).replace(/\[object (\w+)\]/,"$1").toLowerCase()}function O(t){return"undefined"===D(t)}function M(t){return"null"===D(t)}function F(t){return"string"===D(t)}function x(t){return"number"===D(t)}function P(t){return"boolean"===D(t)}function N(t){return"symbol"===D(t)}function C(t){return"array"===D(t)}function _(t){return"object"===D(t)}function L(t){return"date"===D(t)}function T(t){return"regexp"===D(t)}function j(t){return"function"===D(t)}function I(t){return j(t)&&/^class\s+[\dA-Za-z]/.test(t.toString())}function A(t){return"set"===D(t)}function W(t){return"map"===D(t)}function Y(t){return"weakset"===D(t)}function J(t){return"weakmap"===D(t)}function R(t){return/^html(.+?)element$/.test(D(t))}function B(t){return"asyncfunction"===D(t)}function U(t){return"function"===D(t)}function G(t){return"arguments"===D(t)}function H(t){return t instanceof Error}function V(t){return!t}function z(t){return Array.isArray(t)&&!t.length}function K(t){return _(t)&&!Object.keys(t).length}var Z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},q={};({get exports(){return q},set exports(t){q=t}}).exports=function(){var t=1e3,n=6e4,e=36e5,r="millisecond",i="second",o="minute",c="hour",s="day",u="week",a="month",f="quarter",l="year",d="date",h="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var n=["th","st","nd","rd"],e=t%100;return"["+t+(n[(e-20)%10]||n[e]||n[0])+"]"}},v=function(t,n,e){var r=String(t);return!r||r.length>=n?t:""+Array(n+1-r.length).join(e)+t},S={s:v,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),i=e%60;return(n<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function t(n,e){if(n.date()<e.date())return-t(e,n);var r=12*(e.year()-n.year())+(e.month()-n.month()),i=n.clone().add(r,a),o=e-i<0,c=n.clone().add(r+(o?-1:1),a);return+(-(r+(e-i)/(o?i-c:c-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:a,y:l,w:u,d:s,D:d,h:c,m:o,s:i,ms:r,Q:f}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},w="en",g={};g[w]=m;var b=function(t){return t instanceof D},k=function t(n,e,r){var i;if(!n)return w;if("string"==typeof n){var o=n.toLowerCase();g[o]&&(i=o),e&&(g[o]=e,i=o);var c=n.split("-");if(!i&&c.length>1)return t(c[0])}else{var s=n.name;g[s]=n,i=s}return!r&&i&&(w=i),i||!r&&w},$=function(t,n){if(b(t))return t.clone();var e="object"==typeof n?n:{};return e.date=t,e.args=arguments,new D(e)},E=S;E.l=k,E.i=b,E.w=function(t,n){return $(t,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var D=function(){function m(t){this.$L=k(t.locale,null,!0),this.parse(t)}var v=m.prototype;return v.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(E.u(n))return new Date;if(n instanceof Date)return new Date(n);if("string"==typeof n&&!/Z$/i.test(n)){var r=n.match(y);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return e?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(n)}(t),this.$x=t.x||{},this.init()},v.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},v.$utils=function(){return E},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(t,n){var e=$(t);return this.startOf(n)<=e&&e<=this.endOf(n)},v.isAfter=function(t,n){return $(t)<this.startOf(n)},v.isBefore=function(t,n){return this.endOf(n)<$(t)},v.$g=function(t,n,e){return E.u(t)?this[n]:this.set(e,t)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(t,n){var e=this,r=!!E.u(n)||n,f=E.p(t),h=function(t,n){var i=E.w(e.$u?Date.UTC(e.$y,n,t):new Date(e.$y,n,t),e);return r?i:i.endOf(s)},y=function(t,n){return E.w(e.toDate()[t].apply(e.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(n)),e)},p=this.$W,m=this.$M,v=this.$D,S="set"+(this.$u?"UTC":"");switch(f){case l:return r?h(1,0):h(31,11);case a:return r?h(1,m):h(0,m+1);case u:var w=this.$locale().weekStart||0,g=(p<w?p+7:p)-w;return h(r?v-g:v+(6-g),m);case s:case d:return y(S+"Hours",0);case c:return y(S+"Minutes",1);case o:return y(S+"Seconds",2);case i:return y(S+"Milliseconds",3);default:return this.clone()}},v.endOf=function(t){return this.startOf(t,!1)},v.$set=function(t,n){var e,u=E.p(t),f="set"+(this.$u?"UTC":""),h=(e={},e[s]=f+"Date",e[d]=f+"Date",e[a]=f+"Month",e[l]=f+"FullYear",e[c]=f+"Hours",e[o]=f+"Minutes",e[i]=f+"Seconds",e[r]=f+"Milliseconds",e)[u],y=u===s?this.$D+(n-this.$W):n;if(u===a||u===l){var p=this.clone().set(d,1);p.$d[h](y),p.init(),this.$d=p.set(d,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](y);return this.init(),this},v.set=function(t,n){return this.clone().$set(t,n)},v.get=function(t){return this[E.p(t)]()},v.add=function(r,f){var d,h=this;r=Number(r);var y=E.p(f),p=function(t){var n=$(h);return E.w(n.date(n.date()+Math.round(t*r)),h)};if(y===a)return this.set(a,this.$M+r);if(y===l)return this.set(l,this.$y+r);if(y===s)return p(1);if(y===u)return p(7);var m=(d={},d[o]=n,d[c]=e,d[i]=t,d)[y]||1,v=this.$d.getTime()+r*m;return E.w(v,this)},v.subtract=function(t,n){return this.add(-1*t,n)},v.format=function(t){var n=this,e=this.$locale();if(!this.isValid())return e.invalidDate||h;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=E.z(this),o=this.$H,c=this.$m,s=this.$M,u=e.weekdays,a=e.months,f=function(t,e,i,o){return t&&(t[e]||t(n,r))||i[e].slice(0,o)},l=function(t){return E.s(o%12||12,t,"0")},d=e.meridiem||function(t,n,e){var r=t<12?"AM":"PM";return e?r.toLowerCase():r},y={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:E.s(s+1,2,"0"),MMM:f(e.monthsShort,s,a,3),MMMM:f(a,s),D:this.$D,DD:E.s(this.$D,2,"0"),d:String(this.$W),dd:f(e.weekdaysMin,this.$W,u,2),ddd:f(e.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:E.s(o,2,"0"),h:l(1),hh:l(2),a:d(o,c,!0),A:d(o,c,!1),m:String(c),mm:E.s(c,2,"0"),s:String(this.$s),ss:E.s(this.$s,2,"0"),SSS:E.s(this.$ms,3,"0"),Z:i};return r.replace(p,(function(t,n){return n||y[t]||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,d,h){var y,p=E.p(d),m=$(r),v=(m.utcOffset()-this.utcOffset())*n,S=this-m,w=E.m(this,m);return w=(y={},y[l]=w/12,y[a]=w,y[f]=w/3,y[u]=(S-v)/6048e5,y[s]=(S-v)/864e5,y[c]=S/e,y[o]=S/n,y[i]=S/t,y)[p]||S,h?w:E.a(w)},v.daysInMonth=function(){return this.endOf(a).$D},v.$locale=function(){return g[this.$L]},v.locale=function(t,n){if(!t)return this.$L;var e=this.clone(),r=k(t,n,!0);return r&&(e.$L=r),e},v.clone=function(){return E.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},m}(),O=D.prototype;return $.prototype=O,[["$ms",r],["$s",i],["$m",o],["$H",c],["$W",s],["$M",a],["$y",l],["$D",d]].forEach((function(t){O[t[1]]=function(n){return this.$g(n,t[0],t[1])}})),$.extend=function(t,n){return t.$i||(t(n,D,$),t.$i=!0),$},$.locale=k,$.isDayjs=b,$.unix=function(t){return $(1e3*t)},$.en=g[w],$.Ls=g,$.p={},$}();var X=q;function Q(t){if(!t)return"时间无效";var n=+new Date,e=+new Date(t)-n;if(e>=0){var r=Math.floor(e/1e3/3600/24),i=Math.floor(e/1e3/60/60%24),o=Math.floor(e/1e3/60%60),c=Math.floor(e/1e3%60),s=r?"".concat(r,"天"):"",u=i?"".concat(i,"时"):"",a=o?"".concat(o,"分"):"",f=c?"".concat(c,"秒"):"";return"".concat(s).concat(u).concat(a).concat(f)}return"时间已到"}function tt(t,n){if(void 0===n&&(n="YYYY-MM-DD"),!t)return"时间无效";var e=+new Date,r=+new Date(t),i=e-r,o=i>=0?"前":"后",c=Math.abs(i),s=30.4375,u=36e5,a=24*u,f=c/6e4,l=c/u,d=c/a,h=c/26298e5;return c/315576e5>=1||h>=12?X(r).format(n):h>=1&&h<12?"".concat(parseInt(h.toString()),"个月").concat(o):d>=1&&d<s?"".concat(parseInt(d.toString()),"天").concat(o):l>=1&&l<24?"".concat(parseInt(l.toString()),"小时").concat(o):f>=1&&f<60?"".concat(parseInt(f.toString()),"分钟").concat(o):i>=0?"刚刚":"准备"}function nt(t,n,e,r){return new(e||(e=Promise))((function(i,o){function c(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,s)}u((r=r.apply(t,n||[])).next())}))}function et(t,n){var e,r,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(e)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(c=0)),c;)try{if(e=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,r=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(!(i=c.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){c=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){c.label=s[1];break}if(6===s[0]&&c.label<i[1]){c.label=i[1],i=s;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(s);break}i[2]&&c.ops.pop(),c.trys.pop();continue}s=n.call(t,c)}catch(t){s=[6,t],r=0}finally{e=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function rt(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,i,o=e.call(t),c=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)c.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(i)throw i.error}}return c}function it(t,n,e){if(e||2===arguments.length)for(var r,i=0,o=n.length;i<o;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return t.concat(r||Array.prototype.slice.call(n))}function ot(t,n){return nt(this,void 0,void 0,(function(){return et(this,(function(e){switch(e.label){case 0:return[4,t.then((function(t){return[null,t]})).catch((function(t){return[n?Object.assign({},t,n):t,void 0]}))];case 1:return[2,e.sent()]}}))}))}function ct(t,n){var e;return void 0===n&&(n=50),function(){for(var r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];e&&clearTimeout(e),e=setTimeout((function(){return t.apply(r,i)}),n)}}function st(t,n){var e;void 0===n&&(n=50);var r=!1,i=0;return function(){for(var o=this,c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];r?(clearTimeout(e),e=setTimeout((function(){Date.now()-i>=n&&(t.apply(o,c),i=Date.now())}),Math.max(n-(Date.now()-i),0))):(t.apply(this,c),i=Date.now(),r=!0)}}function ut(t){return void 0===t&&(t=1e3),nt(this,void 0,void 0,(function(){return et(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){return setTimeout((function(){return n(!0)}),t)}))];case 1:return[2,n.sent()]}}))}))}function at(t,n,e){if(void 0===t&&(t="+"),void 0===n&&(n=0),void 0===e&&(e=0),n=parseFloat(n.toString()),e=parseFloat(e.toString()),isNaN(n)||isNaN(e))return NaN;var r=(n.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,o=Math.max(r,i,0),c=Math.pow(10,o),s=Math.round(n*c),u=Math.round(e*c);return"+"===t?(s+u)/c:"-"===t?(s-u)/c:"*"===t?s*u/(c*c):"/"===t?s/u:(s+u)/c}function ft(t){void 0===t&&(t="+");for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];for(var r={"*":1,"+":0,"/":1,"-":0},i=r[t]||0,o=0;o<n.length;o++)i=0!==o||"-"!==t&&"/"!==t?at(t,i,n[o]):n[o];return i}function lt(t,n){return void 0===t&&(t=0),void 0===n&&(n=0),t.toString().padStart(n,"0")}function dt(t,n,e){void 0===t&&(t=0),void 0===n&&(n=2),void 0===e&&(e="round");var r=Math.pow(10,n);return(0,Math[e])(t*r)/r}function ht(t){if(void 0===t&&(t=0),0===t)return"0 B";var n=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,n)).toPrecision(3)+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}function yt(t,n){return void 0===t&&(t=0),void 0===n&&(n=10),Math.floor(Math.random()*(n-t+1)+t)}function pt(t,n,e){void 0===t&&(t=0),void 0===n&&(n=10),void 0===e&&(e=1);for(var r=[];;){for(var i=!1,o=yt(t,n),c=0;c<r.length;c++)if(o===r[c]){i=!0;break}if(i||r.push(o),r.length===e)return r}}function mt(t,n,e){return void 0===t&&(t=0),void 0===n&&(n=2),void 0===e&&(e=!1),e?"".concat(Math.round(t*Math.pow(10,n)*100)/Math.pow(10,n),"%"):Math.round(t*Math.pow(10,n))/Math.pow(10,n)}function vt(t){return void 0===t&&(t=0),t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function St(t,n){return void 0===t&&(t={}),void 0===n&&(n=""),n in t}function wt(t,n){return void 0===t&&(t={}),void 0===n&&(n=[]),Object.keys(t).reduce((function(e,r){return n.includes(r)&&(e[r]=t[r]),e}),{})}function gt(t,n){for(var e in void 0===t&&(t={}),void 0===n&&(n=!1),t)if({}.hasOwnProperty.call(t,e)){var r=t[e];(n?!r:""===r)&&delete t[e]}}var bt={address:{msg:"地址只能由2~200位中文、英文、数字或空格组成",regexp:/^[\u4e00-\u9fa5A-Za-z0-9 ]{2,200}$/g},count:{msg:"数量只能由数字组成",regexp:/^\d{1,}$/g},date:{msg:"日期只能由YYYY-MM-DD HH:mm:ss形式组成",regexp:/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/g},email:{msg:"邮箱只能由xxx@yyy.zzz形式组成",regexp:/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/g},idcard:{msg:"身份证只能由13位数字或12位数字与X组成",regexp:/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/g},image:{msg:"图片只能是JPG、PNG、GIF、SVG或WEBP类型",regexp:/\.(jpe?g|png|gif|svg|webp)$/g},name:{msg:"名称只能由2~50位中文、英文、数字、下划线或中划线组成",regexp:/^[\u4e00-\u9fa5\w-]{2,50}$/g},number:{msg:"计数只能由数字或小数点组成",regexp:/^[+-]?(0|([1-9]\d*))(\.\d+)?$/g},password:{msg:"密码只能由8~20位英文、数字或符号至少两种组成",regexp:/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)])+$)^.{8,20}$/g},phone:{msg:"手机只能由11位数字组成且符合通讯运营商规范",regexp:/^1\d{10}$/g}},kt="^$.*+-?=!:|\\/()[]{}".split("");function $t(t,n){void 0===t&&(t="phone"),void 0===n&&(n="");var e=bt[t],r=e.regexp,i=e.msg,o=r.test(n);return{flag:o,msg:o?"":i}}function Et(t,n,e){void 0===n&&(n=""),void 0===e&&(e="");var r=t.test(n);return{flag:r,msg:r?"":e}}function Dt(t,n){var e;void 0===t&&(t="(*)"),void 0===n&&(n="");var r=t.split("*").map((function(t){return kt.includes(t)?"\\"+t:t})),i=new RegExp(r[0]+"(.+?)"+r[1],"g");return(null!==(e=n.match(i))&&void 0!==e?e:[]).map((function(t){return t.replace(i,"$1")}))}function Ot(t){return void 0===t&&(t=""),bt.phone.regexp.test(t)?t.toString().replace(/(\d{3})\d*(\d{4})/g,"$1****$2"):t}function Mt(t,n){return void 0===t&&(t=""),void 0===n&&(n="-"),bt.phone.regexp.test(t)&&["-"," "].includes(n)?t.toString().replace(/(\d{3})(\d{4})(\d{4})/g,"$1".concat(n,"$2").concat(n,"$3")):t}function Ft(){return"#"+Math.floor(16777215*Math.random()).toString(16).padEnd(6,"0")}function xt(t){return void 0===t&&(t=5),(t<1||t>10)&&(t=5),Math.random().toString(36).substr(3,t)}function Pt(t){return void 0===t&&(t=""),t.replace(/<[^>]*>/g,"")}function Nt(t){return void 0===t&&(t=""),t.split("").reduceRight((function(t,n){return t+n}))}function Ct(t,n){return void 0===t&&(t=0),void 0===n&&(n=5),t<0&&(t=0),t>n&&(t=n),it(it([],rt(new Array(n).fill("★")),!1),rt(new Array(n).fill("☆")),!1).join("").slice(n-t,2*n-t)}var _t={},Lt={fromCallback:function(t){return Object.defineProperty((function(...n){if("function"!=typeof n[n.length-1])return new Promise(((e,r)=>{t.call(this,...n,((t,n)=>null!=t?r(t):e(n)))}));t.apply(this,n)}),"name",{value:t.name})},fromPromise:function(t){return Object.defineProperty((function(...n){const e=n[n.length-1];if("function"!=typeof e)return t.apply(this,n);t.apply(this,n.slice(0,-1)).then((t=>e(null,t)),e)}),"name",{value:t.name})}},Tt=a,jt=process.cwd,It=null,At=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return It||(It=jt.call(process)),It};try{process.cwd()}catch(t){}if("function"==typeof process.chdir){var Wt=process.chdir;process.chdir=function(t){It=null,Wt.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Wt)}var Yt=function(t){Tt.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(n,e,r){t.open(n,Tt.O_WRONLY|Tt.O_SYMLINK,e,(function(n,i){n?r&&r(n):t.fchmod(i,e,(function(n){t.close(i,(function(t){r&&r(n||t)}))}))}))},t.lchmodSync=function(n,e){var r,i=t.openSync(n,Tt.O_WRONLY|Tt.O_SYMLINK,e),o=!0;try{r=t.fchmodSync(i,e),o=!1}finally{if(o)try{t.closeSync(i)}catch(t){}else t.closeSync(i)}return r}}(t);t.lutimes||function(t){Tt.hasOwnProperty("O_SYMLINK")&&t.futimes?(t.lutimes=function(n,e,r,i){t.open(n,Tt.O_SYMLINK,(function(n,o){n?i&&i(n):t.futimes(o,e,r,(function(n){t.close(o,(function(t){i&&i(n||t)}))}))}))},t.lutimesSync=function(n,e,r){var i,o=t.openSync(n,Tt.O_SYMLINK),c=!0;try{i=t.futimesSync(o,e,r),c=!1}finally{if(c)try{t.closeSync(o)}catch(t){}else t.closeSync(o)}return i}):t.futimes&&(t.lutimes=function(t,n,e,r){r&&process.nextTick(r)},t.lutimesSync=function(){})}(t);t.chown=r(t.chown),t.fchown=r(t.fchown),t.lchown=r(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=i(t.chownSync),t.fchownSync=i(t.fchownSync),t.lchownSync=i(t.lchownSync),t.chmodSync=e(t.chmodSync),t.fchmodSync=e(t.fchmodSync),t.lchmodSync=e(t.lchmodSync),t.stat=o(t.stat),t.fstat=o(t.fstat),t.lstat=o(t.lstat),t.statSync=c(t.statSync),t.fstatSync=c(t.fstatSync),t.lstatSync=c(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(t,n,e){e&&process.nextTick(e)},t.lchmodSync=function(){});t.chown&&!t.lchown&&(t.lchown=function(t,n,e,r){r&&process.nextTick(r)},t.lchownSync=function(){});"win32"===At&&(t.rename="function"!=typeof t.rename?t.rename:function(n){function e(e,r,i){var o=Date.now(),c=0;n(e,r,(function s(u){if(u&&("EACCES"===u.code||"EPERM"===u.code)&&Date.now()-o<6e4)return setTimeout((function(){t.stat(r,(function(t,o){t&&"ENOENT"===t.code?n(e,r,s):i(u)}))}),c),void(c<100&&(c+=10));i&&i(u)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(e,n),e}(t.rename));function n(n){return n?function(e,r,i){return n.call(t,e,r,(function(t){s(t)&&(t=null),i&&i.apply(this,arguments)}))}:n}function e(n){return n?function(e,r){try{return n.call(t,e,r)}catch(t){if(!s(t))throw t}}:n}function r(n){return n?function(e,r,i,o){return n.call(t,e,r,i,(function(t){s(t)&&(t=null),o&&o.apply(this,arguments)}))}:n}function i(n){return n?function(e,r,i){try{return n.call(t,e,r,i)}catch(t){if(!s(t))throw t}}:n}function o(n){return n?function(e,r,i){function o(t,n){n&&(n.uid<0&&(n.uid+=4294967296),n.gid<0&&(n.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof r&&(i=r,r=null),r?n.call(t,e,r,o):n.call(t,e,o)}:n}function c(n){return n?function(e,r){var i=r?n.call(t,e,r):n.call(t,e);return i&&(i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296)),i}:n}function s(t){return!t||("ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code))}t.read="function"!=typeof t.read?t.read:function(n){function e(e,r,i,o,c,s){var u;if(s&&"function"==typeof s){var a=0;u=function(f,l,d){if(f&&"EAGAIN"===f.code&&a<10)return a++,n.call(t,e,r,i,o,c,u);s.apply(this,arguments)}}return n.call(t,e,r,i,o,c,u)}return Object.setPrototypeOf&&Object.setPrototypeOf(e,n),e}(t.read),t.readSync="function"!=typeof t.readSync?t.readSync:(u=t.readSync,function(n,e,r,i,o){for(var c=0;;)try{return u.call(t,n,e,r,i,o)}catch(t){if("EAGAIN"===t.code&&c<10){c++;continue}throw t}});var u};var Jt=f.Stream,Rt=function(t){return{ReadStream:function n(e,r){if(!(this instanceof n))return new n(e,r);Jt.call(this);var i=this;this.path=e,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,r=r||{};for(var o=Object.keys(r),c=0,s=o.length;c<s;c++){var u=o[c];this[u]=r[u]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){i._read()}));t.open(this.path,this.flags,this.mode,(function(t,n){if(t)return i.emit("error",t),void(i.readable=!1);i.fd=n,i.emit("open",n),i._read()}))},WriteStream:function n(e,r){if(!(this instanceof n))return new n(e,r);Jt.call(this),this.path=e,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,r=r||{};for(var i=Object.keys(r),o=0,c=i.length;o<c;o++){var s=i[o];this[s]=r[s]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}};var Bt=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var n={__proto__:Ut(t)};else n=Object.create(null);return Object.getOwnPropertyNames(t).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})),n},Ut=Object.getPrototypeOf||function(t){return t.__proto__};var Gt,Ht,Vt=t,zt=Yt,Kt=Rt,Zt=Bt,qt=l;function Xt(t,n){Object.defineProperty(t,Gt,{get:function(){return n}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(Gt=Symbol.for("graceful-fs.queue"),Ht=Symbol.for("graceful-fs.previous")):(Gt="___graceful-fs.queue",Ht="___graceful-fs.previous");var Qt=function(){};if(qt.debuglog?Qt=qt.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Qt=function(){var t=qt.format.apply(qt,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!Vt[Gt]){var tn=Z[Gt]||[];Xt(Vt,tn),Vt.close=function(t){function n(n,e){return t.call(Vt,n,(function(t){t||cn(),"function"==typeof e&&e.apply(this,arguments)}))}return Object.defineProperty(n,Ht,{value:t}),n}(Vt.close),Vt.closeSync=function(t){function n(n){t.apply(Vt,arguments),cn()}return Object.defineProperty(n,Ht,{value:t}),n}(Vt.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){Qt(Vt[Gt]),d.equal(Vt[Gt].length,0)}))}Z[Gt]||Xt(Z,Vt[Gt]);var nn,en=rn(Zt(Vt));function rn(t){zt(t),t.gracefulify=rn,t.createReadStream=function(n,e){return new t.ReadStream(n,e)},t.createWriteStream=function(n,e){return new t.WriteStream(n,e)};var n=t.readFile;t.readFile=function(t,e,r){"function"==typeof e&&(r=e,e=null);return function t(e,r,i,o){return n(e,r,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof i&&i.apply(this,arguments):on([t,[e,r,i],n,o||Date.now(),Date.now()])}))}(t,e,r)};var e=t.writeFile;t.writeFile=function(t,n,r,i){"function"==typeof r&&(i=r,r=null);return function t(n,r,i,o,c){return e(n,r,i,(function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?"function"==typeof o&&o.apply(this,arguments):on([t,[n,r,i,o],e,c||Date.now(),Date.now()])}))}(t,n,r,i)};var r=t.appendFile;r&&(t.appendFile=function(t,n,e,i){"function"==typeof e&&(i=e,e=null);return function t(n,e,i,o,c){return r(n,e,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof o&&o.apply(this,arguments):on([t,[n,e,i,o],r,c||Date.now(),Date.now()])}))}(t,n,e,i)});var i=t.copyFile;i&&(t.copyFile=function(t,n,e,r){"function"==typeof e&&(r=e,e=0);return function t(n,e,r,o,c){return i(n,e,r,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof o&&o.apply(this,arguments):on([t,[n,e,r,o],i,c||Date.now(),Date.now()])}))}(t,n,e,r)});var o=t.readdir;t.readdir=function(t,n,e){"function"==typeof n&&(e=n,n=null);var r=c.test(process.version)?function(t,n,e,r){return o(t,i(t,n,e,r))}:function(t,n,e,r){return o(t,n,i(t,n,e,r))};return r(t,n,e);function i(t,n,e,i){return function(o,c){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?(c&&c.sort&&c.sort(),"function"==typeof e&&e.call(this,o,c)):on([r,[t,n,e],o,i||Date.now(),Date.now()])}}};var c=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var s=Kt(t);d=s.ReadStream,h=s.WriteStream}var u=t.ReadStream;u&&(d.prototype=Object.create(u.prototype),d.prototype.open=function(){var t=this;p(t.path,t.flags,t.mode,(function(n,e){n?(t.autoClose&&t.destroy(),t.emit("error",n)):(t.fd=e,t.emit("open",e),t.read())}))});var a=t.WriteStream;a&&(h.prototype=Object.create(a.prototype),h.prototype.open=function(){var t=this;p(t.path,t.flags,t.mode,(function(n,e){n?(t.destroy(),t.emit("error",n)):(t.fd=e,t.emit("open",e))}))}),Object.defineProperty(t,"ReadStream",{get:function(){return d},set:function(t){d=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return h},set:function(t){h=t},enumerable:!0,configurable:!0});var f=d;Object.defineProperty(t,"FileReadStream",{get:function(){return f},set:function(t){f=t},enumerable:!0,configurable:!0});var l=h;function d(t,n){return this instanceof d?(u.apply(this,arguments),this):d.apply(Object.create(d.prototype),arguments)}function h(t,n){return this instanceof h?(a.apply(this,arguments),this):h.apply(Object.create(h.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return l},set:function(t){l=t},enumerable:!0,configurable:!0});var y=t.open;function p(t,n,e,r){return"function"==typeof e&&(r=e,e=null),function t(n,e,r,i,o){return y(n,e,r,(function(c,s){!c||"EMFILE"!==c.code&&"ENFILE"!==c.code?"function"==typeof i&&i.apply(this,arguments):on([t,[n,e,r,i],c,o||Date.now(),Date.now()])}))}(t,n,e,r)}return t.open=p,t}function on(t){Qt("ENQUEUE",t[0].name,t[1]),Vt[Gt].push(t),sn()}function cn(){for(var t=Date.now(),n=0;n<Vt[Gt].length;++n)Vt[Gt][n].length>2&&(Vt[Gt][n][3]=t,Vt[Gt][n][4]=t);sn()}function sn(){if(clearTimeout(nn),nn=void 0,0!==Vt[Gt].length){var t=Vt[Gt].shift(),n=t[0],e=t[1],r=t[2],i=t[3],o=t[4];if(void 0===i)Qt("RETRY",n.name,e),n.apply(null,e);else if(Date.now()-i>=6e4){Qt("TIMEOUT",n.name,e);var c=e.pop();"function"==typeof c&&c.call(null,r)}else{var s=Date.now()-o,u=Math.max(o-i,1);s>=Math.min(1.2*u,100)?(Qt("RETRY",n.name,e),n.apply(null,e.concat([i]))):Vt[Gt].push(t)}void 0===nn&&(nn=setTimeout(sn,0))}}process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Vt.__patched&&(en=rn(Vt),Vt.__patched=!0),function(t){const n=Lt.fromCallback,e=en,r=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((t=>"function"==typeof e[t]));Object.assign(t,e),r.forEach((r=>{t[r]=n(e[r])})),t.exists=function(t,n){return"function"==typeof n?e.exists(t,n):new Promise((n=>e.exists(t,n)))},t.read=function(t,n,r,i,o,c){return"function"==typeof c?e.read(t,n,r,i,o,c):new Promise(((c,s)=>{e.read(t,n,r,i,o,((t,n,e)=>{if(t)return s(t);c({bytesRead:n,buffer:e})}))}))},t.write=function(t,n,...r){return"function"==typeof r[r.length-1]?e.write(t,n,...r):new Promise(((i,o)=>{e.write(t,n,...r,((t,n,e)=>{if(t)return o(t);i({bytesWritten:n,buffer:e})}))}))},t.readv=function(t,n,...r){return"function"==typeof r[r.length-1]?e.readv(t,n,...r):new Promise(((i,o)=>{e.readv(t,n,...r,((t,n,e)=>{if(t)return o(t);i({bytesRead:n,buffers:e})}))}))},t.writev=function(t,n,...r){return"function"==typeof r[r.length-1]?e.writev(t,n,...r):new Promise(((i,o)=>{e.writev(t,n,...r,((t,n,e)=>{if(t)return o(t);i({bytesWritten:n,buffers:e})}))}))},"function"==typeof e.realpath.native?t.realpath.native=n(e.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}(_t);var un={},an={};const fn=o;an.checkPath=function(t){if("win32"===process.platform){if(/[<>:"|?*]/.test(t.replace(fn.parse(t).root,""))){const n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}}};const ln=_t,{checkPath:dn}=an,hn=t=>"number"==typeof t?t:{mode:511,...t}.mode;un.makeDir=async(t,n)=>(dn(t),ln.mkdir(t,{mode:hn(n),recursive:!0})),un.makeDirSync=(t,n)=>(dn(t),ln.mkdirSync(t,{mode:hn(n),recursive:!0}));const yn=Lt.fromPromise,{makeDir:pn,makeDirSync:mn}=un,vn=yn(pn);var Sn={mkdirs:vn,mkdirsSync:mn,mkdirp:vn,mkdirpSync:mn,ensureDir:vn,ensureDirSync:mn};const wn=Lt.fromPromise,gn=_t;var bn={pathExists:wn((function(t){return gn.access(t).then((()=>!0)).catch((()=>!1))})),pathExistsSync:gn.existsSync};const kn=en;var $n=function(t,n,e,r){kn.open(t,"r+",((t,i)=>{if(t)return r(t);kn.futimes(i,n,e,(t=>{kn.close(i,(n=>{r&&r(t||n)}))}))}))},En=function(t,n,e){const r=kn.openSync(t,"r+");return kn.futimesSync(r,n,e),kn.closeSync(r)};const Dn=_t,On=o,Mn=l;function Fn(t,n,e){const r=e.dereference?t=>Dn.stat(t,{bigint:!0}):t=>Dn.lstat(t,{bigint:!0});return Promise.all([r(t),r(n).catch((t=>{if("ENOENT"===t.code)return null;throw t}))]).then((([t,n])=>({srcStat:t,destStat:n})))}function xn(t,n){return n.ino&&n.dev&&n.ino===t.ino&&n.dev===t.dev}function Pn(t,n){const e=On.resolve(t).split(On.sep).filter((t=>t)),r=On.resolve(n).split(On.sep).filter((t=>t));return e.reduce(((t,n,e)=>t&&r[e]===n),!0)}function Nn(t,n,e){return`Cannot ${e} '${t}' to a subdirectory of itself, '${n}'.`}var Cn={checkPaths:function(t,n,e,r,i){Mn.callbackify(Fn)(t,n,r,((r,o)=>{if(r)return i(r);const{srcStat:c,destStat:s}=o;if(s){if(xn(c,s)){const r=On.basename(t),o=On.basename(n);return"move"===e&&r!==o&&r.toLowerCase()===o.toLowerCase()?i(null,{srcStat:c,destStat:s,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(c.isDirectory()&&!s.isDirectory())return i(new Error(`Cannot overwrite non-directory '${n}' with directory '${t}'.`));if(!c.isDirectory()&&s.isDirectory())return i(new Error(`Cannot overwrite directory '${n}' with non-directory '${t}'.`))}return c.isDirectory()&&Pn(t,n)?i(new Error(Nn(t,n,e))):i(null,{srcStat:c,destStat:s})}))},checkPathsSync:function(t,n,e,r){const{srcStat:i,destStat:o}=function(t,n,e){let r;const i=e.dereference?t=>Dn.statSync(t,{bigint:!0}):t=>Dn.lstatSync(t,{bigint:!0}),o=i(t);try{r=i(n)}catch(t){if("ENOENT"===t.code)return{srcStat:o,destStat:null};throw t}return{srcStat:o,destStat:r}}(t,n,r);if(o){if(xn(i,o)){const r=On.basename(t),c=On.basename(n);if("move"===e&&r!==c&&r.toLowerCase()===c.toLowerCase())return{srcStat:i,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${n}' with directory '${t}'.`);if(!i.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${n}' with non-directory '${t}'.`)}if(i.isDirectory()&&Pn(t,n))throw new Error(Nn(t,n,e));return{srcStat:i,destStat:o}},checkParentPaths:function t(n,e,r,i,o){const c=On.resolve(On.dirname(n)),s=On.resolve(On.dirname(r));if(s===c||s===On.parse(s).root)return o();Dn.stat(s,{bigint:!0},((c,u)=>c?"ENOENT"===c.code?o():o(c):xn(e,u)?o(new Error(Nn(n,r,i))):t(n,e,s,i,o)))},checkParentPathsSync:function t(n,e,r,i){const o=On.resolve(On.dirname(n)),c=On.resolve(On.dirname(r));if(c===o||c===On.parse(c).root)return;let s;try{s=Dn.statSync(c,{bigint:!0})}catch(t){if("ENOENT"===t.code)return;throw t}if(xn(e,s))throw new Error(Nn(n,r,i));return t(n,e,c,i)},isSrcSubdir:Pn,areIdentical:xn};const _n=en,Ln=o,Tn=Sn.mkdirs,jn=bn.pathExists,In=$n,An=Cn;function Wn(t,n,e,r){if(!e.filter)return r(null,!0);Promise.resolve(e.filter(t,n)).then((t=>r(null,t)),(t=>r(t)))}function Yn(t,n,e,r,i){(r.dereference?_n.stat:_n.lstat)(n,((o,c)=>o?i(o):c.isDirectory()?function(t,n,e,r,i,o){return n?Un(e,r,i,o):function(t,n,e,r,i){_n.mkdir(e,(o=>{if(o)return i(o);Un(n,e,r,(n=>n?i(n):Bn(e,t,i)))}))}(t.mode,e,r,i,o)}(c,t,n,e,r,i):c.isFile()||c.isCharacterDevice()||c.isBlockDevice()?function(t,n,e,r,i,o){return n?function(t,n,e,r,i){if(!r.overwrite)return r.errorOnExist?i(new Error(`'${e}' already exists`)):i();_n.unlink(e,(o=>o?i(o):Jn(t,n,e,r,i)))}(t,e,r,i,o):Jn(t,e,r,i,o)}(c,t,n,e,r,i):c.isSymbolicLink()?function(t,n,e,r,i){_n.readlink(n,((n,o)=>n?i(n):(r.dereference&&(o=Ln.resolve(process.cwd(),o)),t?void _n.readlink(e,((t,n)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?_n.symlink(o,e,i):i(t):(r.dereference&&(n=Ln.resolve(process.cwd(),n)),An.isSrcSubdir(o,n)?i(new Error(`Cannot copy '${o}' to a subdirectory of itself, '${n}'.`)):An.isSrcSubdir(n,o)?i(new Error(`Cannot overwrite '${n}' with '${o}'.`)):function(t,n,e){_n.unlink(n,(r=>r?e(r):_n.symlink(t,n,e)))}(o,e,i)))):_n.symlink(o,e,i))))}(t,n,e,r,i):c.isSocket()?i(new Error(`Cannot copy a socket file: ${n}`)):c.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${n}`)):i(new Error(`Unknown file: ${n}`))))}function Jn(t,n,e,r,i){_n.copyFile(n,e,(o=>o?i(o):r.preserveTimestamps?function(t,n,e,r){if(function(t){return 0==(128&t)}(t))return function(t,n,e){return Bn(t,128|n,e)}(e,t,(i=>i?r(i):Rn(t,n,e,r)));return Rn(t,n,e,r)}(t.mode,n,e,i):Bn(e,t.mode,i)))}function Rn(t,n,e,r){!function(t,n,e){_n.stat(t,((t,r)=>t?e(t):In(n,r.atime,r.mtime,e)))}(n,e,(n=>n?r(n):Bn(e,t,r)))}function Bn(t,n,e){return _n.chmod(t,n,e)}function Un(t,n,e,r){_n.readdir(t,((i,o)=>i?r(i):Gn(o,t,n,e,r)))}function Gn(t,n,e,r,i){const o=t.pop();return o?function(t,n,e,r,i,o){const c=Ln.join(e,n),s=Ln.join(r,n);Wn(c,s,i,((n,u)=>n?o(n):u?void An.checkPaths(c,s,"copy",i,((n,u)=>{if(n)return o(n);const{destStat:a}=u;Yn(a,c,s,i,(n=>n?o(n):Gn(t,e,r,i,o)))})):Gn(t,e,r,i,o)))}(t,o,n,e,r,i):i()}var Hn=function(t,n,e,r){"function"!=typeof e||r?"function"==typeof e&&(e={filter:e}):(r=e,e={}),r=r||function(){},(e=e||{}).clobber=!("clobber"in e)||!!e.clobber,e.overwrite="overwrite"in e?!!e.overwrite:e.clobber,e.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001"),An.checkPaths(t,n,"copy",e,((i,o)=>{if(i)return r(i);const{srcStat:c,destStat:s}=o;An.checkParentPaths(t,c,n,"copy",(i=>{if(i)return r(i);Wn(t,n,e,((i,o)=>i?r(i):o?void function(t,n,e,r,i){const o=Ln.dirname(e);jn(o,((c,s)=>c?i(c):s?Yn(t,n,e,r,i):void Tn(o,(o=>o?i(o):Yn(t,n,e,r,i)))))}(s,t,n,e,r):r()))}))}))};const Vn=en,zn=o,Kn=Sn.mkdirsSync,Zn=En,qn=Cn;function Xn(t,n,e,r){const i=(r.dereference?Vn.statSync:Vn.lstatSync)(n);if(i.isDirectory())return function(t,n,e,r,i){return n?ne(e,r,i):function(t,n,e,r){return Vn.mkdirSync(e),ne(n,e,r),te(e,t)}(t.mode,e,r,i)}(i,t,n,e,r);if(i.isFile()||i.isCharacterDevice()||i.isBlockDevice())return function(t,n,e,r,i){return n?function(t,n,e,r){if(r.overwrite)return Vn.unlinkSync(e),Qn(t,n,e,r);if(r.errorOnExist)throw new Error(`'${e}' already exists`)}(t,e,r,i):Qn(t,e,r,i)}(i,t,n,e,r);if(i.isSymbolicLink())return function(t,n,e,r){let i=Vn.readlinkSync(n);r.dereference&&(i=zn.resolve(process.cwd(),i));if(t){let t;try{t=Vn.readlinkSync(e)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return Vn.symlinkSync(i,e);throw t}if(r.dereference&&(t=zn.resolve(process.cwd(),t)),qn.isSrcSubdir(i,t))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${t}'.`);if(qn.isSrcSubdir(t,i))throw new Error(`Cannot overwrite '${t}' with '${i}'.`);return function(t,n){return Vn.unlinkSync(n),Vn.symlinkSync(t,n)}(i,e)}return Vn.symlinkSync(i,e)}(t,n,e,r);if(i.isSocket())throw new Error(`Cannot copy a socket file: ${n}`);if(i.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${n}`);throw new Error(`Unknown file: ${n}`)}function Qn(t,n,e,r){return Vn.copyFileSync(n,e),r.preserveTimestamps&&function(t,n,e){(function(t){return 0==(128&t)})(t)&&function(t,n){te(t,128|n)}(e,t);(function(t,n){const e=Vn.statSync(t);Zn(n,e.atime,e.mtime)})(n,e)}(t.mode,n,e),te(e,t.mode)}function te(t,n){return Vn.chmodSync(t,n)}function ne(t,n,e){Vn.readdirSync(t).forEach((r=>function(t,n,e,r){const i=zn.join(n,t),o=zn.join(e,t);if(r.filter&&!r.filter(i,o))return;const{destStat:c}=qn.checkPathsSync(i,o,"copy",r);return Xn(c,i,o,r)}(r,t,n,e)))}var ee=function(t,n,e){"function"==typeof e&&(e={filter:e}),(e=e||{}).clobber=!("clobber"in e)||!!e.clobber,e.overwrite="overwrite"in e?!!e.overwrite:e.clobber,e.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:r,destStat:i}=qn.checkPathsSync(t,n,"copy",e);if(qn.checkParentPathsSync(t,r,n,"copy"),e.filter&&!e.filter(t,n))return;const o=zn.dirname(n);return Vn.existsSync(o)||Kn(o),Xn(i,t,n,e)};var re={copy:(0,Lt.fromCallback)(Hn),copySync:ee};const ie=en;var oe={remove:(0,Lt.fromCallback)((function(t,n){ie.rm(t,{recursive:!0,force:!0},n)})),removeSync:function(t){ie.rmSync(t,{recursive:!0,force:!0})}};const ce=Lt.fromPromise,se=_t,ue=o,ae=Sn,fe=oe,le=ce((async function(t){let n;try{n=await se.readdir(t)}catch{return ae.mkdirs(t)}return Promise.all(n.map((n=>fe.remove(ue.join(t,n)))))}));function de(t){let n;try{n=se.readdirSync(t)}catch{return ae.mkdirsSync(t)}n.forEach((n=>{n=ue.join(t,n),fe.removeSync(n)}))}var he={emptyDirSync:de,emptydirSync:de,emptyDir:le,emptydir:le};const ye=Lt.fromCallback,pe=o,me=en,ve=Sn;var Se={createFile:ye((function(t,n){function e(){me.writeFile(t,"",(t=>{if(t)return n(t);n()}))}me.stat(t,((r,i)=>{if(!r&&i.isFile())return n();const o=pe.dirname(t);me.stat(o,((t,r)=>{if(t)return"ENOENT"===t.code?ve.mkdirs(o,(t=>{if(t)return n(t);e()})):n(t);r.isDirectory()?e():me.readdir(o,(t=>{if(t)return n(t)}))}))}))})),createFileSync:function(t){let n;try{n=me.statSync(t)}catch{}if(n&&n.isFile())return;const e=pe.dirname(t);try{me.statSync(e).isDirectory()||me.readdirSync(e)}catch(t){if(!t||"ENOENT"!==t.code)throw t;ve.mkdirsSync(e)}me.writeFileSync(t,"")}};const we=Lt.fromCallback,ge=o,be=en,ke=Sn,$e=bn.pathExists,{areIdentical:Ee}=Cn;var De={createLink:we((function(t,n,e){function r(t,n){be.link(t,n,(t=>{if(t)return e(t);e(null)}))}be.lstat(n,((i,o)=>{be.lstat(t,((i,c)=>{if(i)return i.message=i.message.replace("lstat","ensureLink"),e(i);if(o&&Ee(c,o))return e(null);const s=ge.dirname(n);$e(s,((i,o)=>i?e(i):o?r(t,n):void ke.mkdirs(s,(i=>{if(i)return e(i);r(t,n)}))))}))}))})),createLinkSync:function(t,n){let e;try{e=be.lstatSync(n)}catch{}try{const n=be.lstatSync(t);if(e&&Ee(n,e))return}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}const r=ge.dirname(n);return be.existsSync(r)||ke.mkdirsSync(r),be.linkSync(t,n)}};const Oe=o,Me=en,Fe=bn.pathExists;var xe={symlinkPaths:function(t,n,e){if(Oe.isAbsolute(t))return Me.lstat(t,(n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),e(n)):e(null,{toCwd:t,toDst:t})));{const r=Oe.dirname(n),i=Oe.join(r,t);return Fe(i,((n,o)=>n?e(n):o?e(null,{toCwd:i,toDst:t}):Me.lstat(t,(n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),e(n)):e(null,{toCwd:t,toDst:Oe.relative(r,t)})))))}},symlinkPathsSync:function(t,n){let e;if(Oe.isAbsolute(t)){if(e=Me.existsSync(t),!e)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}{const r=Oe.dirname(n),i=Oe.join(r,t);if(e=Me.existsSync(i),e)return{toCwd:i,toDst:t};if(e=Me.existsSync(t),!e)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:Oe.relative(r,t)}}}};const Pe=en;var Ne={symlinkType:function(t,n,e){if(e="function"==typeof n?n:e,n="function"!=typeof n&&n)return e(null,n);Pe.lstat(t,((t,r)=>{if(t)return e(null,"file");n=r&&r.isDirectory()?"dir":"file",e(null,n)}))},symlinkTypeSync:function(t,n){let e;if(n)return n;try{e=Pe.lstatSync(t)}catch{return"file"}return e&&e.isDirectory()?"dir":"file"}};const Ce=Lt.fromCallback,_e=o,Le=_t,Te=Sn.mkdirs,je=Sn.mkdirsSync,Ie=xe.symlinkPaths,Ae=xe.symlinkPathsSync,We=Ne.symlinkType,Ye=Ne.symlinkTypeSync,Je=bn.pathExists,{areIdentical:Re}=Cn;function Be(t,n,e,r){Ie(t,n,((i,o)=>{if(i)return r(i);t=o.toDst,We(o.toCwd,e,((e,i)=>{if(e)return r(e);const o=_e.dirname(n);Je(o,((e,c)=>e?r(e):c?Le.symlink(t,n,i,r):void Te(o,(e=>{if(e)return r(e);Le.symlink(t,n,i,r)}))))}))}))}var Ue={createSymlink:Ce((function(t,n,e,r){r="function"==typeof e?e:r,e="function"!=typeof e&&e,Le.lstat(n,((i,o)=>{!i&&o.isSymbolicLink()?Promise.all([Le.stat(t),Le.stat(n)]).then((([i,o])=>{if(Re(i,o))return r(null);Be(t,n,e,r)})):Be(t,n,e,r)}))})),createSymlinkSync:function(t,n,e){let r;try{r=Le.lstatSync(n)}catch{}if(r&&r.isSymbolicLink()){const e=Le.statSync(t),r=Le.statSync(n);if(Re(e,r))return}const i=Ae(t,n);t=i.toDst,e=Ye(i.toCwd,e);const o=_e.dirname(n);return Le.existsSync(o)||je(o),Le.symlinkSync(t,n,e)}};const{createFile:Ge,createFileSync:He}=Se,{createLink:Ve,createLinkSync:ze}=De,{createSymlink:Ke,createSymlinkSync:Ze}=Ue;var qe={createFile:Ge,createFileSync:He,ensureFile:Ge,ensureFileSync:He,createLink:Ve,createLinkSync:ze,ensureLink:Ve,ensureLinkSync:ze,createSymlink:Ke,createSymlinkSync:Ze,ensureSymlink:Ke,ensureSymlinkSync:Ze};var Xe={stringify:function(t,{EOL:n="\n",finalEOL:e=!0,replacer:r=null,spaces:i}={}){const o=e?n:"";return JSON.stringify(t,r,i).replace(/\n/g,n)+o},stripBom:function(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}};let Qe;try{Qe=en}catch(n){Qe=t}const tr=Lt,{stringify:nr,stripBom:er}=Xe;const rr=tr.fromPromise((async function(t,n={}){"string"==typeof n&&(n={encoding:n});const e=n.fs||Qe,r=!("throws"in n)||n.throws;let i,o=await tr.fromCallback(e.readFile)(t,n);o=er(o);try{i=JSON.parse(o,n?n.reviver:null)}catch(n){if(r)throw n.message=`${t}: ${n.message}`,n;return null}return i}));const ir=tr.fromPromise((async function(t,n,e={}){const r=e.fs||Qe,i=nr(n,e);await tr.fromCallback(r.writeFile)(t,i,e)}));const or={readFile:rr,readFileSync:function(t,n={}){"string"==typeof n&&(n={encoding:n});const e=n.fs||Qe,r=!("throws"in n)||n.throws;try{let r=e.readFileSync(t,n);return r=er(r),JSON.parse(r,n.reviver)}catch(n){if(r)throw n.message=`${t}: ${n.message}`,n;return null}},writeFile:ir,writeFileSync:function(t,n,e={}){const r=e.fs||Qe,i=nr(n,e);return r.writeFileSync(t,i,e)}};var cr={readJson:or.readFile,readJsonSync:or.readFileSync,writeJson:or.writeFile,writeJsonSync:or.writeFileSync};const sr=Lt.fromCallback,ur=en,ar=o,fr=Sn,lr=bn.pathExists;var dr={outputFile:sr((function(t,n,e,r){"function"==typeof e&&(r=e,e="utf8");const i=ar.dirname(t);lr(i,((o,c)=>o?r(o):c?ur.writeFile(t,n,e,r):void fr.mkdirs(i,(i=>{if(i)return r(i);ur.writeFile(t,n,e,r)}))))})),outputFileSync:function(t,...n){const e=ar.dirname(t);if(ur.existsSync(e))return ur.writeFileSync(t,...n);fr.mkdirsSync(e),ur.writeFileSync(t,...n)}};const{stringify:hr}=Xe,{outputFile:yr}=dr;var pr=async function(t,n,e={}){const r=hr(n,e);await yr(t,r,e)};const{stringify:mr}=Xe,{outputFileSync:vr}=dr;var Sr=function(t,n,e){const r=mr(n,e);vr(t,r,e)};const wr=Lt.fromPromise,gr=cr;gr.outputJson=wr(pr),gr.outputJsonSync=Sr,gr.outputJSON=gr.outputJson,gr.outputJSONSync=gr.outputJsonSync,gr.writeJSON=gr.writeJson,gr.writeJSONSync=gr.writeJsonSync,gr.readJSON=gr.readJson,gr.readJSONSync=gr.readJsonSync;var br=gr;const kr=en,$r=o,Er=re.copy,Dr=oe.remove,Or=Sn.mkdirp,Mr=bn.pathExists,Fr=Cn;function xr(t,n,e,r,i){return r?Pr(t,n,e,i):e?Dr(n,(r=>r?i(r):Pr(t,n,e,i))):void Mr(n,((r,o)=>r?i(r):o?i(new Error("dest already exists.")):Pr(t,n,e,i)))}function Pr(t,n,e,r){kr.rename(t,n,(i=>i?"EXDEV"!==i.code?r(i):function(t,n,e,r){const i={overwrite:e,errorOnExist:!0};Er(t,n,i,(n=>n?r(n):Dr(t,r)))}(t,n,e,r):r()))}var Nr=function(t,n,e,r){"function"==typeof e&&(r=e,e={});const i=(e=e||{}).overwrite||e.clobber||!1;Fr.checkPaths(t,n,"move",e,((e,o)=>{if(e)return r(e);const{srcStat:c,isChangingCase:s=!1}=o;Fr.checkParentPaths(t,c,n,"move",(e=>e?r(e):function(t){const n=$r.dirname(t);return $r.parse(n).root===n}(n)?xr(t,n,i,s,r):void Or($r.dirname(n),(e=>e?r(e):xr(t,n,i,s,r)))))}))};const Cr=en,_r=o,Lr=re.copySync,Tr=oe.removeSync,jr=Sn.mkdirpSync,Ir=Cn;function Ar(t,n,e){try{Cr.renameSync(t,n)}catch(r){if("EXDEV"!==r.code)throw r;return function(t,n,e){const r={overwrite:e,errorOnExist:!0};return Lr(t,n,r),Tr(t)}(t,n,e)}}var Wr=function(t,n,e){const r=(e=e||{}).overwrite||e.clobber||!1,{srcStat:i,isChangingCase:o=!1}=Ir.checkPathsSync(t,n,"move",e);return Ir.checkParentPathsSync(t,i,n,"move"),function(t){const n=_r.dirname(t);return _r.parse(n).root===n}(n)||jr(_r.dirname(n)),function(t,n,e,r){if(r)return Ar(t,n,e);if(e)return Tr(n),Ar(t,n,e);if(Cr.existsSync(n))throw new Error("dest already exists.");return Ar(t,n,e)}(t,n,r,o)};var Yr={move:(0,Lt.fromCallback)(Nr),moveSync:Wr},Jr={..._t,...re,...he,...qe,...br,...Sn,...Yr,...dr,...bn,...oe};function Rr(t,n){return void 0===t&&(t=""),void 0===n&&(n=u()),c(n,t)}function Br(t,e){return void 0===t&&(t=""),void 0===e&&(e=u()),n(Rr(t,e))}function Ur(t,n,e){void 0===t&&(t=""),void 0===n&&(n=""),Jr.copySync(t,n,{filter:e})}function Gr(t){void 0===t&&(t=""),Jr.ensureDirSync(t)}function Hr(t,n,i){var o;if(void 0===t&&(t="bfs"),void 0===n&&(n=u()),void 0===i&&(i=/(node_modules|\.git|\.DS_Store)$/),"bfs"===t){var s=[],a=[];!i.test(n)&&a.unshift(n);for(var f=function(){var t=null!==(o=a.shift())&&void 0!==o?o:"",n=e(t);if(n&&!i.test(t)){var u=n.isDirectory,f=n.isFile;u()?r(t).forEach((function(n){var e=c(t,n);a.push(e)})):f()&&s.push(t)}};a.length;)f();return s}if("dfs"===t){s=[];var l=e(n);return i.test(n)||(l.isDirectory()?r(n).reduce((function(t,e){var r=Hr("dfs",c(n,e),i);return t.push.apply(t,it([],rt(r),!1)),t}),s):l.isFile()&&s.push(n)),s}return[]}function Vr(t,n){void 0===t&&(t=""),void 0===n&&(n=u());var e=Rr(t,n),r=s(e);if(!/^\.json$/.test(r))return{};var o=i(e,"utf8");return JSON.parse(o)}function zr(t){void 0===t&&(t=""),Jr.removeSync(t)}function Kr(){var t,n="127.0.0.1",e=h();for(var r in e)for(var i=null!==(t=e[r])&&void 0!==t?t:[],o=0;o<i.length;o++){var c=i[o],s=c.address,u=c.family,a=c.internal;if("IPv4"===u&&s!==n&&!a)return s}return n}function Zr(t){return void 0===t&&(t="node -v"),m(t,{encoding:"utf8"})}function qr(){var t=y().toLocaleLowerCase(),n={windows:/windows/g,macos:/darwin/g,linux:/linux/g},e=Object.keys(n).find((function(e){return n[e].test(t)}));return{nodeVs:Zr("node -v").replace(/(v|\n|\r\n)/g,""),npmVs:Zr("npm -v").replace(/\n/g,""),system:e,systemVs:p().split("-")[0]}}export{Rr as AbsPath,ot as AsyncTo,at as CalcNum,ft as CalcNumPlus,St as CheckObjValidKey,Br as CheckPath,$t as CheckText,Et as CheckTextPlus,v as ChunkArr,Ur as CopyDir,Gr as CreateDir,ct as Debounce,Ot as DesePhone,k as EnvType,lt as FillNum,wt as FilterObjKey,dt as FixedNum,ht as FormatByte,Q as FormatCountdown,Mt as FormatPhone,tt as FormatTimeDiff,Kr as GetIP,S as GroupArr,G as IsArguments,C as IsArray,B as IsAsyncFunction,P as IsBoolean,I as IsClass,L as IsDate,R as IsElement,V as IsEmpty,z as IsEmptyArray,K as IsEmptyObject,H as IsError,j as IsFunction,W as IsMap,E as IsNode,M as IsNull,x as IsNumber,_ as IsObject,T as IsRegExp,A as IsSet,F as IsString,N as IsSymbol,U as IsSyncFunction,O as IsUndefined,J as IsWeakMap,Y as IsWeakSet,$ as IsWeb,Dt as MatchBracketText,qr as NodeType,Ft as RandomColor,xt as RandomId,yt as RandomNum,pt as RandomNumPlus,Hr as ReadDir,Vr as ReadJson,zr as RemoveDir,gt as RemoveObjEmptyKey,Pt as RemoveTag,Nt as ReverseText,mt as RoundNum,Zr as RunCmd,Ct as StartScore,w as StatArrMemCount,g as StatArrMemKeyword,b as StatArrMemPosition,vt as ThousandNum,st as Throttle,D as TypeOf,ut as WaitFor};
