import{readFileSync as tt,writeFileSync as st}from"node:fs";import{homedir as Mt}from"node:os";import{normalize as Qt}from"node:path";import{NodeType as lt,RunCmd as dn}from"@yangzw/bruce-us/dist/node.js";import Kt from"strip-json-comments";import{ACTION_TEXT as m,CMD_TEXT as d}from"../langs/index.js";function vn(e,t=!1){try{const t=dn("code -v");if(!t.split("\n").shift())return e.stop(),console.log(d.judgeCode),{config:"",flag:!1,path:""}}catch(t){return e.stop(),console.log(d.judgeCode),{config:"",flag:!1,path:""}}const{system:o}=lt(),i=Qt({linux:`${Mt()}/.config/Code/User/settings.json`,macos:`${Mt()}/Library/Application Support/Code/User/settings.json`,windows:`${Mt()}/AppData/Roaming/Code/User/settings.json`}[o]).replace(/\\/g,"/"),r=Qt(`${dn("npm root -g")}/@yangzw/bruce-std`).replace(/\\/g,"/"),s={"css.validate":!1,"less.validate":!1,"scss.validate":!1,"editor.codeActionsOnSave":{"source.fixAll.eslint":"explicit","source.fixAll.stylelint":"explicit"},"editor.defaultFormatter":"esbenp.prettier-vscode","editor.detectIndentation":!1,"editor.fontSize":14,"editor.formatOnPaste":!0,"editor.formatOnSave":!0,"editor.insertSpaces":!1,"editor.lineHeight":25,"files.eol":"\n","javascript.updateImportsOnFileMove.enabled":"always","security.workspace.trust.untrustedFiles":"open","typescript.updateImportsOnFileMove.enabled":"always","window.zoomLevel":1,"beautify.config":{indent_with_tabs:!0,wrap_line_length:0},"eslint.nodePath":`${r}/node_modules/eslint`,"eslint.options":{overrideConfigFile:`${r}/dist/eslintrc.cjs`},"markdownlint.config":{MD001:!1,MD007:!1,MD010:!1,MD013:!1,MD033:!1,MD036:!1,MD041:!1,MD045:!1,MD047:!1},"prettier.configPath":`${r}/dist/prettier.config.cjs`,"prettier.ignorePath":`${r}/.prettierignore`,"prettier.arrowParens":"avoid","prettier.quoteProps":"preserve","prettier.tabWidth":4,"prettier.trailingComma":"none","prettier.useTabs":!0,"files.removeFinalNewlines":!0,"stylelint.configFile":`${r}/dist/stylelint.config.cjs`,"stylelint.stylelintPath":`${r}/node_modules/stylelint`,"stylelint.validate":["html","css","scss","less","vue"],"[html]":{"editor.defaultFormatter":"HookyQR.beautify"},"[wxml]":{"editor.defaultFormatter":"HookyQR.beautify"},"[css]":{"editor.formatOnPaste":!1,"editor.formatOnSave":!1,"files.removeFinalNewlines":!1},"[less]":{"editor.formatOnPaste":!1,"editor.formatOnSave":!1,"files.removeFinalNewlines":!1},"[scss]":{"editor.formatOnPaste":!1,"editor.formatOnSave":!1,"files.removeFinalNewlines":!1},"[javascript]":{"editor.formatOnPaste":!1,"editor.formatOnSave":!1},"[typescript]":{"editor.formatOnPaste":!1,"editor.formatOnSave":!1},"[javascriptreact]":{"editor.formatOnPaste":!1,"editor.formatOnSave":!1},"[typescriptreact]":{"editor.formatOnPaste":!1,"editor.formatOnSave":!1},"[json]":{"editor.defaultFormatter":"HookyQR.beautify"}};if(t){const e=tt(i,"utf8"),t=JSON.parse(Kt(e));Object.entries(s).forEach((e=>Reflect.set(t,e[0],e[1]))),st(i,JSON.stringify(t,null,"\t"),"utf8")}return{config:JSON.stringify(s,null,"\t"),flag:!0,path:i}}function io(e){console.log(`##### ${m[e]} #####`)}export{vn as GenerateConfig,io as ShowTitle};