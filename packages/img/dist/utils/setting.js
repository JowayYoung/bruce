var x=this&&this.__awaiter||function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{s(i.next(n))}catch(n){r(n)}}function p(n){try{s(i.throw(n))}catch(n){r(n)}}function s(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,p)}s((i=i.apply(n,e||[])).next())}))};import{statSync as wt}from"node:fs";import{extname as nt}from"node:path";import{AbsPath as S}from"@yangzw/bruce-us/dist/node.js";import{fileTypeFromFile as en}from"file-type";import{sync as tn}from"glob";import{ACTION_TEXT as m}from"../langs/index.js";import{OUTPUT_DIR as ai}from"./getting.js";function pi(){return x(this,arguments,void 0,(function*(n="gif,jpg,png,svg,webp,GIF,JPG,PNG,SVG,WEBP"){var e;const t=Object.values(ai),i=tn(`**/*.{${n}}`),o=[],r=[];for(const n of i){const i=S(n),c=wt(i).isFile(),p=t.every((e=>!n.includes(e))),s=null===(e=yield en(i))||void 0===e?void 0:e.mime.includes("image/");c&&p&&s&&r.push(n),c&&p&&!s&&o.push(n)}return{count:o.length+r.length,invalidImgs:o,validImgs:r}}))}function ci(n=""){return n.replace(/\.gif$/i,".gif").replace(/\.jpg$/i,".jpg").replace(/\.png$/i,".png").replace(/\.svg$/i,".svg").replace(/\.webp$/i,".webp")}function ui(n=""){return nt(n).toLowerCase().replace(/^\./,"")}function io(n){console.log(`##### ${m[n]} #####`)}export{pi as FilterImg,ci as FormatExt,ui as GetExt,io as ShowTitle};