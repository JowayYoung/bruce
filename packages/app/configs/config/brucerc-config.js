import{extname as s}from"path";import{pathToFileURL as e}from"url";import{IsEmptyArray as t,IsEmptyObject as r,NodeType as l}from"@bruce/us/dist/node.js";import{BROWSERS_ES5 as o,JudgeFile as n,ReadJson as i,ReadYml as u}from"../../constants/util/index.js";export default async function c(){const c=n("","configFile"),a="windows"===l().system?e(c).href:c,p=s(a).replace(/^\./g,""),m="js"===p?(await import(a)).default||{}:"json"===p?i("brucerc.json")||{}:"yml"===p&&u("brucerc.yml")||{};if(!r(m))for(const s in m){const e=m[s];(!e||t(e)||r(e))&&delete m[s]}return Object.assign({alias:{},browsers:o,buildErrorCb:null,buildSuccessCb:null,eslintIgnores:[],eslintRules:{},frame:"",openPages:[],proxy:{},proxyHost:"",publicPath:"",scriptAssets:[],style:"",styleAssets:[],stylelintIgnores:[],stylelintRules:{},uploadOpts:null,useTs:!1},m)}