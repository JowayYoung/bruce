import{exit as Ho}from"process";import{WaitFor as wr}from"@bruce/us/dist/node.js";import Vo from"ora";import{BrucercConfig as c}from"../../configs/config/index.js";import{NEW_TEXT as to}from"../../constants/i18n/index.js";import{IsPath as X,JudgeFile as n,ShowMsg as rt,ShowTitle as it}from"../../constants/util/index.js";import qe from"../../generators/material/index.js";import{NewAnswer as kr}from"../../helpers/answer/index.js";export default async function Ye(){it("new");const e=n("","configFile"),r=n("src");if(!e)return rt("red",to.judgeBrucerc),Ho(1);if(!r)return rt("red",to.judgeIndexes),Ho(1);if(!X("package.json"))return rt("red",to.judgePackage),Ho(1);if(!X("node_modules"))return rt("red",to.judgeModules),Ho(1);const{namem:o,temp:s}=await kr(),{frame:t,style:i,useTs:d}=await c();if(d&&!X("tsconfig.json"))return rt("red",to.judgeTsconfig),Ho(1);if("js"===t)return rt("red",to.judgeFrame);const m=Vo(to.doing).start();qe({frame:t,name:o,style:i,temp:s,useTs:d}),await wr(2e3),m.stop(),rt("green",to.done),Ho(1)}