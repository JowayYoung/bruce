var x=this&&this.__awaiter||function(n,e,t,o){return new(t||(t=Promise))((function(r,i){function s(n){try{u(o.next(n))}catch(n){i(n)}}function l(n){try{u(o.throw(n))}catch(n){i(n)}}function u(n){var e;n.done?r(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(s,l)}u((o=o.apply(n,e||[])).next())}))};import{CheckPath as He}from"@yangzw/bruce-us/dist/node.js";import{ScanI18n as en}from"../utils/index.js";import{BuildPrompt as tn,CoverPrompt as on,FeaturesPrompt as rn,LangsPrompt as sn}from"./prompt.js";export default function ge(){return x(this,void 0,void 0,(function*(){const n=!He("i18n.xlsx")||(yield on());if(n){const e=en();if(e.length){if(yield tn()){return{cover:n,features:[],jsons:e,langs:["zh",...yield sn()]}}{const e=yield rn(),t=yield sn();return{cover:n,features:e.length?e.split(",").filter(Boolean):["home"],jsons:[],langs:["zh",...t]}}}{const e=yield rn(),t=yield sn();return{cover:n,features:e.length?e.split(",").filter(Boolean):["home"],jsons:[],langs:["zh",...t]}}}return{cover:n,features:[],jsons:[],langs:[]}}))}