var x=this&&this.__awaiter||function(n,e,t,o){return new(t||(t=Promise))((function(r,i){function s(n){try{u(o.next(n))}catch(n){i(n)}}function l(n){try{u(o.throw(n))}catch(n){i(n)}}function u(n){var e;n.done?r(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(s,l)}u((o=o.apply(n,e||[])).next())}))};import{CheckPath as Ke}from"@yangzw/bruce-us/dist/node.js";import{ScanI18n as ln}from"../utils/index.js";import{BuildPrompt as cn,CoverPrompt as fn,FeaturesPrompt as hn,LangsPrompt as yn}from"./prompt.js";export default function Ge(){return x(this,void 0,void 0,(function*(){const n=!Ke("i18n.xlsx")||(yield fn());if(n){const e=ln();if(e.length){if(yield cn()){return{cover:n,features:[],jsons:e,langs:["zh",...yield yn()]}}{const e=yield hn(),t=yield yn();return{cover:n,features:e.length?e.split(",").filter(Boolean):["home"],jsons:[],langs:["zh",...t]}}}{const e=yield hn(),t=yield yn();return{cover:n,features:e.length?e.split(",").filter(Boolean):["home"],jsons:[],langs:["zh",...t]}}}return{cover:n,features:[],jsons:[],langs:[]}}))}