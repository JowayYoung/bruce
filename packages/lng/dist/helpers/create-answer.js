var g=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,s){function i(t){try{l(o.next(t))}catch(t){s(t)}}function a(t){try{l(o.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}l((o=o.apply(t,e||[])).next())}))};import{CheckPath as _e}from"@yangzw/bruce-us/dist/node.js";import{ScanI18n as It}from"../utils/index.js";import{BuildPrompt as qt,CoverPrompt as Dt,FeaturesPrompt as Gt,LangsPrompt as Ht}from"./prompt.js";export default function it(){return g(this,void 0,void 0,(function*(){const t=!_e("i18n.xlsx")||(yield Dt());if(t){const e=It();if(e.length){if(yield qt())return{cover:t,features:[],jsons:e,langs:["zh",...yield Ht()]};{const e=yield Gt(),n=yield Ht();return{cover:t,features:e.length?e.split(",").filter(Boolean):["home"],jsons:[],langs:["zh",...n]}}}{const e=yield Gt(),n=yield Ht();return{cover:t,features:e.length?e.split(",").filter(Boolean):["home"],jsons:[],langs:["zh",...n]}}}return{cover:t,features:[],jsons:[],langs:[]}}))}