import e,{useRef as t,useState as n,useMemo as o,useEffect as r,useCallback as i,cloneElement as a}from"react";import{createPortal as c}from"react-dom";import{createRoot as l}from"react-dom/client";var u=function(){return u=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u.apply(this,arguments)};function s(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((o=o.apply(e,t||[])).next())}))}function d(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,o=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){a.label=c[1];break}if(6===c[0]&&a.label<r[1]){a.label=r[1],r=c;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(c);break}r[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],o=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}"function"==typeof SuppressedError&&SuppressedError;var v=!1;if("undefined"!=typeof window){var m={get passive(){v=!0}};window.addEventListener("testPassive",null,m),window.removeEventListener("testPassive",null,m)}var p="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),h=[],b=!1,y=-1,g=void 0,w=void 0,C=void 0,E=function(e){return h.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},k=function(e){var t=e||window.event;return!!E(t.target)||(t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1))},x=function(e,t){if(e){if(!h.some((function(t){return t.targetElement===e}))){var n={targetElement:e,options:{}};h=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(h),[n]),p?window.requestAnimationFrame((function(){if(void 0===w){w={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,n=e.scrollX,o=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-n,setTimeout((function(){return window.requestAnimationFrame((function(){var e=o-window.innerHeight;e&&t>=o&&(document.body.style.top=-(t+e))}))}),300)}})):function(e){if(void 0===C){var t=!!e,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){var o=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);C=document.body.style.paddingRight,document.body.style.paddingRight=o+n+"px"}}void 0===g&&(g=document.body.style.overflow,document.body.style.overflow="hidden")}(t),p&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(y=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&function(e,t){var n=e.targetTouches[0].clientY-y;!E(e.target)&&(t&&0===t.scrollTop&&n>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(t)&&n<0?k(e):e.stopPropagation())}(t,e)},b||(document.addEventListener("touchmove",k,v?{passive:!1}:void 0),b=!0))}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},N=function(e){e?(h=h.filter((function(t){return t.targetElement!==e})),p&&(e.ontouchstart=null,e.ontouchmove=null,b&&0===h.length&&(document.removeEventListener("touchmove",k,v?{passive:!1}:void 0),b=!1)),p?function(){if(void 0!==w){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=w.position,document.body.style.top=w.top,document.body.style.left=w.left,window.scrollTo(t,e),w=void 0}}():(void 0!==C&&(document.body.style.paddingRight=C,C=void 0),void 0!==g&&(document.body.style.overflow=g,g=void 0))):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.")};function O(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _,j={exports:{}};_=j,function(){var e={}.hasOwnProperty;function t(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=o(e,n(r)))}return e}function n(n){if("string"==typeof n||"number"==typeof n)return n;if("object"!=typeof n)return"";if(Array.isArray(n))return t.apply(null,n);if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]"))return n.toString();var r="";for(var i in n)e.call(n,i)&&n[i]&&(r=o(r,i));return r}function o(e,t){return t?e?e+" "+t:e+t:e}_.exports?(t.default=t,_.exports=t):window.classNames=t}();var P=O(j.exports);function S(e,t){return s(this,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:return[4,e.then((function(e){return[null,e]})).catch((function(e){return[e,void 0]}))];case 1:return[2,t.sent()]}}))}))}function T(){return s(this,void 0,void 0,(function(){var e,t,n,o,r;return d(this,(function(i){switch(i.label){case 0:return e="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.min.css",t=new Promise((function(t){(function(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))})([],f(document.getElementsByTagName("link")),!1).some((function(t){return t.href===e||t.href.includes(e)}))&&t(!1);var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n.addEventListener("load",(function(){return t(!0)})),n.addEventListener("error",(function(){return t(!1)})),document.head.appendChild(n)})),[4,S(t)];case 1:return n=f.apply(void 0,[i.sent(),2]),o=n[0],r=n[1],[2,!o&&!!r]}}))}))}function A(){return s(this,arguments,void 0,(function(e){return void 0===e&&(e=1e3),d(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t){return setTimeout((function(){return t(!0)}),e)}))];case 1:return[2,t.sent()]}}))}))}function D(e){var i,a,c=e.opts,l=void 0===c?{}:c,u=e.position,s=void 0===u?"bottom":u,d=e.ref,v=void 0===d?null:d,m=t(null),p=f(n(!1),2),h=p[0],b=p[1],y=o((function(){return l}),[l]),g=-1*(parseInt(null!==(a=null===(i=null==y?void 0:y.rootMargin)||void 0===i?void 0:i.split(" ")[0])&&void 0!==a?a:"0")||0);return r((function(){m.current=new IntersectionObserver((function(e){var t=f(e,1)[0];b("top"===s?t.boundingClientRect.top<g:t.isIntersecting)}),y)}),[s,y,g]),r((function(){var e;return(null==v?void 0:v.current)&&(null===(e=m.current)||void 0===e||e.observe(v.current)),function(){var e;return null===(e=m.current)||void 0===e?void 0:e.disconnect()}}),[v]),h}function R(){var e=f(n({height:innerHeight,width:innerWidth}),2),t=e[0],o=e[1],i=function(){o({height:innerHeight,width:innerWidth})};return r((function(){return window.addEventListener("resize",i),function(){return window.removeEventListener("resize",i)}}),[]),t}function W(){var e=function(e){var t,n,o,r;void 0===e&&(e=navigator.userAgent);var i=e.toLowerCase(),a=function(e){return e.test(i)},c=function(e){var t;return e?(null!==(t=i.match(e))&&void 0!==t?t:"").toString().replace(/[^0-9|_.]/g,"").replace(/_/g,"."):"unknow"},l={windows:/windows|win32|win64|wow32|wow64/g,macos:/macintosh|macintel/g,linux:/x11|ubuntu/g,android:/android|adr/g,ios:/ios|iphone|ipad|ipod/g},u=null!==(t=Object.keys(l).find((function(e){return a(l[e])})))&&void 0!==t?t:"unknow",s="unknow"===u?"unknow version":"windows"===u?function(){var e,t,n=(null!==(e=i.match(/(windows nt [\d._]+)|(windows [\w._]+)/g))&&void 0!==e?e:"").toString().replace(/windows( nt)? /g,""),o={2e3:/^(5\.0|2000)/g,xp:/^(5\.1|xp)/g,2003:/^(5\.2|2003)/g,vista:/^(6\.0|vista)/g,7:/^(6\.1|7)/g,8:/^(6\.2|8)/g,8.1:/^(6\.3|8\.1)/g,10:/^(10\.0|10)/g};return null!==(t=Object.keys(o).find((function(e){return o[e].test(n)})))&&void 0!==t?t:"unknow"}():c({macos:/mac os x [\d._]+/g,linux:/ubuntu\/[\d._]+/g,android:/android [\d._]+/g,ios:/os [\d._]+/g}[u])||"unknow version",d=a(/mobile/g)?"mobile":"desktop",f={webkit:[/applewebkit/g,/applewebkit\/[\d._]+/g],gecko:[/gecko\//g,/rv:[\d._]+/g],presto:[/presto/g,/presto\/[\d._]+/g],trident:[/compatible|msie|trident/g,/trident\/[\d._]+/g]},v=null!==(n=Object.keys(f).find((function(e){return a(f[e][0])})))&&void 0!==n?n:"unknow",m="unknow"===v?"unknow version":c(f[v][1])||"unknow version",p={safari:[/.*safari.*version.*|.*version.*safari.*/g,/version\/[\d._]+/g],edge:[/edge?/g,/edge?\/[\d._]+/g],firefox:[/firefox/g,/firefox\/[\d._]+/g],opera:[/op(era|r)/g,/(version|opr)\/[\d._]+/g],iexplore:[/compatible|msie|trident/g,/(msie |rv:)[\d._]+/g],chrome:[/chrome/g,/chrome\/[\d._]+/g]},h=null!==(o=Object.keys(p).find((function(e){return a(p[e][0])})))&&void 0!==o?o:"unknow",b="unknow"===h?"unknow version":c(p[h][1])||"unknow version",y={uc:[/ucweb|uc?browser|uclite/g,/(ucweb|uc?browser\/|uclite\/)[\d._]+/g],qq:[/qqbrowser/g,/qqbrowser\/[\d._]+/g],sougou:[/metasr|sogoumobilebrowser/g,/(metasr |sogoumobilebrowser\/)[\d._]+/],maxthon:[/maxthon/g,/maxthon(\/| )[\d._]+/g],2345:[/2345explorer/g,/2345explorer\/[\d._]+/g],360:[/360se/g],liebao:[/lbbrowser/g],xiaomi:[/xiaomi|miuibrowser/g,/miuibrowser\/[\d._]+/g],huawei:[/huaweibrowser/g,/huaweibrowser\/[\d._]+/g],oppo:[/heytapbrowser/g,/heytapbrowser\/[\d._]+/g],vivo:[/vivobrowser/g,/vivobrowser\/[\d._]+/g],wechat:[/micromessenger/g,/micromessenger\/[\d._]+/g],baidu:[/baiduboxapp/g,/baiduboxapp\/[\d._]+/g],toutiao:[/newsarticle|ttwebview/g,/(newsarticle|ttwebview)\/[\d._]+/g]},g=null!==(r=Object.keys(y).find((function(e){return a(y[e][0])})))&&void 0!==r?r:"none",w="none"===g?"none":y[g][1]&&c(y[g][1])||"unknow version";return Object.assign({engine:v,engineVs:m,platform:d,supporter:h,supporterVs:b,system:u,systemVs:s},"none"===g?{}:{shell:g,shellVs:w})}().platform,t=f(n("desktop"===e),2),o=t[0],i=t[1],a=R(),c=a.height,l=a.width;return r((function(){return i("desktop"===e&&l>=1e3&&c>=800)}),[c,e,l]),o}function I(t){var n=t.className,o=void 0===n?"":n,r=t.color,i=t.disabled,a=void 0!==i&&i,c=t.disabledColor,l=void 0===c?"currentColor":c,s=t.marginLeft,d=t.marginRight,f=t.onClick,v=t.rorate,m=void 0===v?0:v,p=t.size,h=t.value,b=void 0===h?"":h,y=P("icon-component",o,{clickable:!!f,disabled:a}),g=P("icon-item",b?"bi-".concat(b):""),w=u(u({},s?{marginLeft:s}:{}),d?{marginRight:d}:{}),C=u(u(u(u(u({},p&&p>=12?{width:p}:{}),p&&p>=12?{height:p}:{}),p&&p>=12?{fontSize:p}:{}),a?{color:l}:r?{color:r}:{}),[-360,0,360].includes(m)?{}:{transform:"rotate(".concat(m,"deg)")});return b?e.createElement("div",{className:y,style:w,onClick:f},e.createElement("i",{className:g,style:C})):null}function L(t){var n=t.className,o=void 0===n?"":n,r=t.disabled,i=void 0!==r&&r,a=t.href,c=void 0===a?"":a,l=t.icon,u=void 0===l?"":l,s=t.onClick,d=t.style,f=t.target,v=void 0===f?"self":f,m=t.text,p=void 0===m?"":m,h=t.type,b=P("button-component",o,void 0===h?"confirm":h),y=P("button-wrapper",{disabled:i}),g=e.createElement("button",{className:b,disabled:i,style:d,onClick:s},!!u&&e.createElement(I,{className:"button-icon",size:20,value:u}),!!p&&e.createElement("span",{className:"button-text"},p));return c?e.createElement("a",{className:y,href:c,target:"_".concat(v)},g):g}function B(t){var n=this,r=t.btnText,a=void 0===r?"确定":r,l=t.children,u=void 0===l?null:l,f=t.className,v=void 0===f?"":f,m=t.closeWay,p=void 0===m?"mask":m,h=t.onConfirm,b=void 0===h?function(){}:h,y=t.onCancel,g=void 0===y?function(){}:y,w=t.title,C=void 0===w?"标题":w,E=t.visible,k=void 0!==E&&E,x=o((function(){return g}),[g]),N=W(),O=P("actionsheet-component",v,{desktop:N}),_=i((function(){return s(n,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return"btn"!==p?[4,null==x?void 0:x()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}),[p,x]);return k?c(e.createElement("div",{className:O,"data-title":C,onClick:_},e.createElement("div",{className:"actionsheet-wrapper",onClick:function(e){return e.stopPropagation()}},"mask"!==p&&e.createElement(I,{className:"actionsheet-btn",value:"x-lg",onClick:x}),!!C&&e.createElement("h1",{className:"actionsheet-title"},C),e.createElement("div",{className:"actionsheet-body"},u),e.createElement(L,{className:"actionsheet-handler",text:a,onClick:b}))),document.body):null}function q(){var t=this,o=f(n(!1),2),r=o[0],a=o[1],c=f(n(!1),2),l=c[0],u=c[1],v=i((function(){u(!0),a(!0),x(document.body)}),[]),m=i((function(){return s(t,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return N(document.body),u(!1),[4,A(300)];case 1:return e.sent(),a(!1),[2]}}))}))}),[]),p=i((function(n){var o=n.btnText,i=void 0===o?"确定":o,a=n.children,c=void 0===a?null:a,u=n.className,f=void 0===u?"":u,v=n.closeWay,p=void 0===v?"mask":v,h=n.onCancel,b=void 0===h?function(){return!0}:h,y=n.onCancelCall,g=n.onConfirm,w=void 0===g?function(){return!0}:g,C=n.onConfirmCall,E=n.title,k=void 0===E?"标题":E,x=P(f,{hide:!l,show:l});return e.createElement(B,{btnText:i,className:x,closeWay:p,title:k,visible:r,onCancel:function(){return s(t,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,null==b?void 0:b()];case 1:return e=t.sent(),e?[4,m()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[4,null==y?void 0:y(e)];case 4:return t.sent(),[2]}}))}))},onConfirm:function(){return s(t,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,null==w?void 0:w()];case 1:return e=t.sent(),e?[4,m()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[4,null==C?void 0:C(e)];case 4:return t.sent(),[2]}}))}))}},c)}),[l,r,m]);return[p,v,m,r]}function z(t){var n=this,r=t.children,a=void 0===r?null:r,l=t.className,u=void 0===l?"":l,f=t.closeWay,v=void 0===f?"mask":f,m=t.handler,p=void 0===m?[]:m,h=t.onClose,b=void 0===h?function(){}:h,y=t.root,g=void 0===y?document.body:y,w=t.title,C=void 0===w?"":w,E=t.visible,k=void 0!==E&&E,x=o((function(){return b}),[b]),N=W(),O=p.slice(0,2),_=P("modal-component",u,{desktop:N}),j=i((function(){return s(n,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return"btn"!==v?[4,null==x?void 0:x()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}),[v,x]);return k?c(e.createElement("div",{className:_,"data-title":C,onClick:j},e.createElement("div",{className:"modal-wrapper",onClick:function(e){return e.stopPropagation()}},"mask"!==v&&e.createElement(I,{className:"modal-btn",value:"x-lg",onClick:x}),!!C&&e.createElement("h1",{className:"modal-title"},C),e.createElement("div",{className:"modal-body"},a),!!O.length&&e.createElement("div",{className:"modal-handler"},O))),g):null}function M(){var t=this,o=f(n(!1),2),r=o[0],a=o[1],c=f(n(!1),2),l=c[0],u=c[1],v=i((function(){u(!0),a(!0),x(document.body)}),[]),m=i((function(){return s(t,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return N(document.body),u(!1),[4,A(300)];case 1:return e.sent(),a(!1),[2]}}))}))}),[]),p=i((function(n){var o=n.children,i=void 0===o?null:o,a=n.className,c=void 0===a?"":a,u=n.closeWay,f=void 0===u?"mask":u,v=n.handler,p=void 0===v?[]:v,h=n.onClose,b=n.title,y=void 0===b?"":b,g=P(c,{hide:!l,show:l});return e.createElement(z,{className:g,closeWay:f,handler:p,title:y,visible:r,onClose:function(){return s(t,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return[4,m()];case 1:return e.sent(),[4,null==h?void 0:h()];case 2:return e.sent(),[2]}}))}))}},i)}),[l,r,m]);return[p,v,m,r]}function H(t){return s(this,arguments,void 0,(function(t){var n,o,r,i,c,u,f,v=this,m=t.btnText,p=void 0===m?"确定":m,h=t.children,b=void 0===h?null:h,y=t.className,g=void 0===y?"":y,w=t.closeWay,C=void 0===w?"mask":w,E=t.onCancel,k=void 0===E?function(){return!0}:E,O=t.onCancelCall,_=t.onConfirm,j=void 0===_?function(){return!0}:_,S=t.onConfirmCall,T=t.title,D=void 0===T?"":T;return d(this,(function(t){return document.getElementById("alert")||(n=function(){return s(v,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return N(document.body),f.render(a(u,{className:P("hide",g)})),[4,A(300)];case 1:return e.sent(),f.unmount(),i.remove(),[2]}}))}))},o=function(){return s(v,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,null==j?void 0:j()];case 1:return e=t.sent(),e?[4,n()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[4,null==S?void 0:S(e)];case 4:return t.sent(),[2]}}))}))},r=function(){return s(v,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,null==k?void 0:k()];case 1:return e=t.sent(),e?[4,n()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[4,null==O?void 0:O(e)];case 4:return t.sent(),[2]}}))}))},(i=document.createElement("div")).setAttribute("id","alert"),document.body.append(i),c=[e.createElement(L,{key:"confirm",text:p,onClick:o})],u=e.createElement(z,{className:P("show",g),closeWay:C,handler:c,root:i,title:D,visible:!0,onClose:r},b),(f=l(i)).render(u),x(document.body)),[2]}))}))}function U(){var t=this,o=f(n(!1),2),r=o[0],a=o[1],c=f(n(!1),2),l=c[0],u=c[1],v=i((function(){u(!0),a(!0),x(document.body)}),[]),m=i((function(){return s(t,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return N(document.body),u(!1),[4,A(300)];case 1:return e.sent(),a(!1),[2]}}))}))}),[]),p=i((function(n){var o=n.btnText,i=void 0===o?"确定":o,a=n.children,c=void 0===a?null:a,u=n.className,f=void 0===u?"":u,v=n.closeWay,p=void 0===v?"mask":v,h=n.onCancel,b=void 0===h?function(){return!0}:h,y=n.onCancelCall,g=n.onConfirm,w=void 0===g?function(){return!0}:g,C=n.onConfirmCall,E=n.title,k=void 0===E?"":E,x=P(f,{hide:!l,show:l}),N=[e.createElement("button",{key:"confirm",onClick:function(){return s(t,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,null==w?void 0:w()];case 1:return e=t.sent(),e?[4,m()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[4,null==C?void 0:C(e)];case 4:return t.sent(),[2]}}))}))}},i)];return e.createElement(z,{className:x,closeWay:p,handler:N,title:k,visible:r,onClose:function(){return s(t,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,null==b?void 0:b()];case 1:return e=t.sent(),e?[4,m()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[4,null==y?void 0:y(e)];case 4:return t.sent(),[2]}}))}))}},c)}),[l,r,m]);return[p,v,m,r]}function V(t){return s(this,arguments,void 0,(function(t){var n,o,r,i,c,u,f,v=this,m=t.btnTextCancel,p=void 0===m?"取消":m,h=t.btnTextConfirm,b=void 0===h?"确定":h,y=t.children,g=void 0===y?null:y,w=t.className,C=void 0===w?"":w,E=t.closeWay,k=void 0===E?"mask":E,O=t.onCancel,_=void 0===O?function(){return!0}:O,j=t.onCancelCall,S=t.onConfirm,T=void 0===S?function(){return!0}:S,D=t.onConfirmCall,R=t.title,W=void 0===R?"":R;return d(this,(function(t){return document.getElementById("dialog")||(n=function(){return s(v,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return N(document.body),f.render(a(u,{className:P("hide",C)})),[4,A(300)];case 1:return e.sent(),f.unmount(),i.remove(),[2]}}))}))},o=function(){return s(v,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,null==T?void 0:T()];case 1:return e=t.sent(),e?[4,n()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[4,null==D?void 0:D(e)];case 4:return t.sent(),[2]}}))}))},r=function(){return s(v,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,null==_?void 0:_()];case 1:return e=t.sent(),e?[4,n()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[4,null==j?void 0:j(e)];case 4:return t.sent(),[2]}}))}))},(i=document.createElement("div")).setAttribute("id","dialog"),document.body.append(i),c=[e.createElement(L,{key:"cancel",text:p,type:"cancel",onClick:r}),e.createElement(L,{key:"confirm",text:b,onClick:o})],u=e.createElement(z,{className:P("show",C),closeWay:k,handler:c,root:i,title:W,visible:!0,onClose:r},g),(f=l(i)).render(u),x(document.body)),[2]}))}))}function Y(){var t=this,o=f(n(!1),2),r=o[0],a=o[1],c=f(n(!1),2),l=c[0],u=c[1],v=i((function(){u(!0),a(!0),x(document.body)}),[]),m=i((function(){return s(t,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return N(document.body),u(!1),[4,A(300)];case 1:return e.sent(),a(!1),[2]}}))}))}),[]),p=i((function(n){var o=n.btnTextCancel,i=void 0===o?"取消":o,a=n.btnTextConfirm,c=void 0===a?"确定":a,u=n.children,f=void 0===u?null:u,v=n.className,p=void 0===v?"":v,h=n.closeWay,b=void 0===h?"mask":h,y=n.onCancel,g=void 0===y?function(){return!0}:y,w=n.onCancelCall,C=n.onConfirm,E=void 0===C?function(){return!0}:C,k=n.onConfirmCall,x=n.title,N=void 0===x?"":x,O=P(p,{hide:!l,show:l}),_=function(){return s(t,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,null==g?void 0:g()];case 1:return e=t.sent(),e?[4,m()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[4,null==w?void 0:w(e)];case 4:return t.sent(),[2]}}))}))},j=[e.createElement("button",{key:"cancel",className:"cancel",onClick:_},i),e.createElement("button",{key:"confirm",onClick:function(){return s(t,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,null==E?void 0:E()];case 1:return e=t.sent(),e?[4,m()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[4,null==k?void 0:k(e)];case 4:return t.sent(),[2]}}))}))}},c)];return e.createElement(z,{className:O,closeWay:b,handler:j,title:N,visible:r,onClose:_},f)}),[l,r,m]);return[p,v,m,r]}function F(t){var n=t.className,o=void 0===n?"":n,r=t.color,i=t.icon,a=void 0===i?"box":i,c=t.text,l=void 0===c?"暂无数据":c,u=t.size,s=P("empty-component",o);return e.createElement("div",{className:s},!!a&&e.createElement(I,{className:"empty-icon",color:r,size:u,value:a}),!!l&&e.createElement("p",{className:"empty-text"},l))}function X(t){var n=t.className,o=void 0===n?"":n,r=t.dot,i=void 0===r||r,a=t.text,c=void 0===a?"加载中":a,l=P("loading-wrapper",o),u=new Array(12).fill(0).map((function(t,n){return e.createElement("li",{key:n,className:"loading-icon-item",style:{"--line-index":n+1}})}));return e.createElement("div",{className:l},e.createElement("ul",{className:"loading-icon"},u),!!c&&e.createElement("p",{className:"loading-text"},c,i&&e.createElement("span",{className:"loading-text-dot"})))}function G(t){var n=t.className,o=void 0===n?"":n,r=t.dot,i=void 0===r||r,a=t.text,l=void 0===a?"加载中":a,u=t.visible,s=W(),d=P("loading-component",o,{desktop:s});return u?c(e.createElement("div",{className:d},e.createElement(X,{dot:i,text:l})),document.body):null}function J(){var t=this,o=f(n(!1),2),r=o[0],a=o[1],c=f(n(!1),2),l=c[0],u=c[1],v=i((function(){u(!0),a(!0),x(document.body)}),[]),m=i((function(){return s(t,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return N(document.body),u(!1),[4,A(300)];case 1:return e.sent(),a(!1),[2]}}))}))}),[]),p=i((function(t){var n=t.className,o=void 0===n?"":n,i=t.dot,a=void 0===i||i,c=t.text,u=void 0===c?"加载中":c,s=P("loader",o,{hide:!l,show:l});return e.createElement(G,{className:s,dot:a,text:u,visible:r})}),[l,r]);return[p,v,m,r]}var K={},Q=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}},Z={"text/plain":"Text","text/html":"Url",default:"Text"};var $=function(e,t){var n,o,r,i,a,c,l=!1;t||(t={}),n=t.debug||!1;try{if(r=Q(),i=document.createRange(),a=document.getSelection(),(c=document.createElement("span")).textContent=e,c.ariaHidden="true",c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(o){if(o.stopPropagation(),t.format)if(o.preventDefault(),void 0===o.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=Z[t.format]||Z.default;window.clipboardData.setData(r,e)}else o.clipboardData.clearData(),o.clipboardData.setData(t.format,e);t.onCopy&&(o.preventDefault(),t.onCopy(o.clipboardData))})),document.body.appendChild(c),i.selectNodeContents(c),a.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");l=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{a&&("function"==typeof a.removeRange?a.removeRange(i):a.removeAllRanges()),c&&document.body.removeChild(c),r()}return l};function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}Object.defineProperty(K,"__esModule",{value:!0}),K.CopyToClipboard=void 0;var te=re(e),ne=re($),oe=["text","onCopy","options","children"];function re(e){return e&&e.__esModule?e:{default:e}}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function le(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ue(e,t){return ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ue(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=fe(e);if(t){var r=fe(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return de(e)}(this,n)}}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e){return fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fe(e)}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ue(e,t)}(n,te["default"].PureComponent);var t=se(n);function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return ve(de(e=t.call.apply(t,[this].concat(r))),"onClick",(function(t){var n=e.props,o=n.text,r=n.onCopy,i=n.children,a=n.options,c=te.default.Children.only(i),l=(0,ne.default)(o,a);r&&r(o,l),c&&c.props&&"function"==typeof c.props.onClick&&c.props.onClick(t)})),e}return le(n,[{key:"render",value:function(){var e=this.props;e.text,e.onCopy,e.options;var t=e.children,n=ce(e,oe),o=te.default.Children.only(t);return te.default.cloneElement(o,ae(ae({},n),{},{onClick:this.onClick}))}}]),n}();K.CopyToClipboard=me,ve(me,"defaultProps",{onCopy:void 0,options:void 0});var pe=K.CopyToClipboard;pe.CopyToClipboard=pe;var he=pe;function be(t){var r=this,a=t.className,l=void 0===a?"":a,u=t.closeWay,v=void 0===u?"mask":u,m=t.list,p=void 0===m?[]:m,h=t.onCancel,b=void 0===h?function(){}:h,y=t.onChange,g=void 0===y?function(){return""}:y,w=t.onConfirm,C=void 0===w?function(){}:w,E=t.text,k=void 0===E?"":E,x=t.title,N=void 0===x?"分享到":x,O=t.visible,_=void 0!==O&&O,j=W(),S=f(n(""),2),T=S[0],A=S[1],D=f(n(location.href),2),R=D[0],B=D[1],q=o((function(){return p.slice(0,4)}),[p]),z=o((function(){return g}),[g]),M=o((function(){return b}),[b]),H=o((function(){return C}),[C]),U=P("sharesheet-component",l,{desktop:j}),V=i((function(){return s(r,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return"btn"!==v?[4,null==M?void 0:M()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}),[v,M]),Y=i((function(e){return s(r,void 0,void 0,(function(){var t,n;return d(this,(function(o){switch(o.label){case 0:return A(e),[4,null==z?void 0:z(e)];case 1:return t=null!==(n=o.sent())&&void 0!==n?n:"",B(k?"".concat(k).concat(t?"\n\n".concat(t):""):t),[2]}}))}))}),[k,z]),F=i((function(){return s(r,void 0,void 0,(function(){var e,t,n;return d(this,(function(o){switch(o.label){case 0:return e=null!==(n=null===(t=q.find((function(e){return e.name===T})))||void 0===t?void 0:t.link)&&void 0!==n?n:q[0].link,[4,null==H?void 0:H()];case 1:return o.sent(),[4,null==M?void 0:M()];case 2:return o.sent(),open(e),[2]}}))}))}),[T,q,M,H]),X=q.map((function(t){return e.createElement("li",{key:t.name,className:"sharesheet-app-item",onClick:function(){return s(r,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return[4,Y(t.name)];case 1:return[2,e.sent()]}}))}))}},e.createElement("img",{className:"sharesheet-app-icon",src:t.icon}),e.createElement("h3",{className:"sharesheet-app-name"},t.name))})),G=e.createElement("div",{className:"sharesheet-target"},e.createElement("p",{className:"sharesheet-target-link"},R),e.createElement(he.CopyToClipboard,{text:R},e.createElement(L,{className:"sharesheet-target-btn",text:"复制并分享",onClick:F})));return _?c(e.createElement("div",{className:U,"data-title":N,onClick:V},e.createElement("div",{className:"sharesheet-wrapper",onClick:function(e){return e.stopPropagation()}},"mask"!==v&&e.createElement(I,{className:"sharesheet-btn",value:"x-lg",onClick:M}),!!N&&e.createElement("h1",{className:"sharesheet-title"},N),""===T?e.createElement("ul",{className:"sharesheet-app"},X):G)),document.body):null}function ye(){var t=this,o=f(n(!1),2),r=o[0],a=o[1],c=f(n(!1),2),l=c[0],u=c[1],v=i((function(){u(!0),a(!0),x(document.body)}),[]),m=i((function(){return s(t,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return N(document.body),u(!1),[4,A(300)];case 1:return e.sent(),a(!1),[2]}}))}))}),[]),p=i((function(n){var o=n.className,i=void 0===o?"":o,a=n.closeWay,c=void 0===a?"mask":a,u=n.list,f=void 0===u?[]:u,v=n.onCancel,p=void 0===v?function(){return!0}:v,h=n.onCancelCall,b=n.onChange,y=void 0===b?function(){return""}:b,g=n.onConfirm,w=void 0===g?function(){return!0}:g,C=n.onConfirmCall,E=n.text,k=void 0===E?"":E,x=n.title,N=void 0===x?"分享到":x,O=P(i,{hide:!l,show:l});return e.createElement(be,{className:O,closeWay:c,list:f,text:k,title:N,visible:r,onCancel:function(){return s(t,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,null==p?void 0:p()];case 1:return e=t.sent(),e?[4,m()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[4,null==h?void 0:h(e)];case 4:return t.sent(),[2]}}))}))},onChange:y,onConfirm:function(){return s(t,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,null==w?void 0:w()];case 1:return e=t.sent(),e?[4,m()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[4,null==C?void 0:C(e)];case 4:return t.sent(),[2]}}))}))}})}),[l,r,m]);return[p,v,m,r]}function ge(t){var n=t.className,o=void 0===n?"":n,r=t.text,i=void 0===r?"提示":r,a=W(),c=P("toast-component",o,{desktop:a});return e.createElement("div",{className:c},e.createElement("p",{className:"toast-wrapper"},e.createElement("span",{className:"toast-text"},i)))}function we(t){return s(this,arguments,void 0,(function(t){var n,o,r,i=t.className,c=void 0===i?"":i,u=t.delay,s=void 0===u?2e3:u,f=t.text,v=void 0===f?"提示":f;return d(this,(function(t){switch(t.label){case 0:return document.getElementById("toast")?[2]:((n=document.createElement("div")).setAttribute("id","toast"),document.body.append(n),o=e.createElement(ge,{className:P("show",c),text:v}),(r=l(n)).render(o),x(document.body),[4,A(s)]);case 1:return t.sent(),N(document.body),r.render(a(o,{className:P("hide",c)})),[4,A(300)];case 2:return t.sent(),r.unmount(),n.remove(),[2]}}))}))}export{B as Actionsheet,L as Button,F as Empty,I as Icon,T as LoadIcons,G as Loader,X as Loading,z as Modal,be as Sharesheet,ge as Toast,H as actionAlert,V as actionDialog,we as actionToast,q as useActionsheet,U as useAlert,W as useDesktop,Y as useDialog,J as useLoading,M as useModal,D as useOnCross,R as useOnResize,ye as useSharesheet};
