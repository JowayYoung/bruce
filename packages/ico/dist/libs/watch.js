import{exit as o}from"process";import{AbsPath as S,Throttle as jo}from"@yangzw/bruce-us/dist/node.js";import wo from"chokidar";import{WATCH_TEXT as uo}from"../langs/index.js";import{ShowTitle as io}from"../utils/index.js";import to from"./generate.js";process.on("SIGINT",(()=>{console.log(uo.undone),o(1)}));export default function ao({input:o="",output:n=""}){io("watch");const e=S(n?`${n}/icons.css`:"icons.css"),s=jo((()=>to({alone:!1,input:o,output:n})),1e3);console.log(uo.doing(S(o),e)),wo.watch(o,{ignoreInitial:!0}).on("all",((o,n)=>{"add"===o&&console.log(uo.create(n)),"change"===o&&console.log(uo.update(n)),"unlink"===o&&console.log(uo.remove(n)),s()}))}