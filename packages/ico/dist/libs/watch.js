import{exit as o}from"process";import{AbsPath as $,Throttle as so}from"@yangzw/bruce-us/dist/node.js";import io from"chokidar";import{WATCH_TEXT as $o}from"../langs/index.js";import{ShowTitle as De}from"../utils/index.js";import oo from"./generate.js";process.on("SIGINT",(()=>{console.log($o.undone),o(1)}));export default function ao({input:o="",output:s=""}){De("watch");const e=$(s?`${s}/icons.css`:"icons.css"),n=so((()=>oo({alone:!1,input:o,output:s})),1e3);console.log($o.doing($(o),e)),io.watch(o,{ignoreInitial:!0}).on("all",((o,s)=>{"add"===o&&console.log($o.create(s)),"change"===o&&console.log($o.update(s)),"unlink"===o&&console.log($o.remove(s)),n()}))}